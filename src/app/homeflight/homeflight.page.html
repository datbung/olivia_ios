<div class="div-flight-content" *ngIf="flightTabActive == 1">
    <!-- <div [ngClass]="isNotice ? 'background mb50' : 'background'"> -->
        <div [ngClass]="isNotice ? (flighttype == 'twoway' ? 'background cls-bg-twoway' : 'background cls-bg-oneway') : (flighttype == 'twoway' ? 'background cls-bg-twoway' : 'background cls-bg-oneway') ">
        <!-- <img [ngClass]="isNotice ? 'img-background-notice' : 'img-background'"  src="./assets/ic_flight/flight_bg.jpg"> -->
        <img [ngClass]="isNotice ? (flighttype == 'twoway' ? 'img-background-notice cls-bg-twoway' : 'img-background-notice cls-bg-oneway') : (flighttype == 'twoway' ? 'img-background cls-bg-twoway' : 'img-background cls-bg-oneway') " src="./assets/ic_flight/flight_bg.jpg">
        <div class="div-wrap-background"></div>
        <div class="text-center">
            <img class="img-logo" src="./assets/logo/logo.svg" />
        </div>
        <div class="padding div-wrap-content">
            <!-- <div [ngClass]="isNotice ? 'text-home-hotel-notice' : 'text-home-hotel'"  > -->
                <div class="text-home-hotel"  >
                <label class="label-home-hotel">
                    Lựa chọn thông minh - Hành trình như ý
                </label>
            </div>
            <div [ngClass]="flighttype == 'twoway' ? 'div-wrap-search-input div-wc-twoway' : 'div-wrap-search-input div-wc-oneway' "></div>
            <div class="div-direction">
                <!-- <ion-row>
                    <ion-list class="div-list-flighttype">
                        <ion-radio-group name="rdgroup" class="list-flighttype d-flex" [(ngModel)]="flighttype" mode="md">
                            <div class="div-twoway d-flex rd-active">
                                <ion-radio style="--color-checked:#fff;width: 19px; height: 19px;--border-width: 0.5px;" value="twoway" class="rd-departure" (click)="radioCheck(1)" checked="true" mode="md"></ion-radio>
                                <div class="rd-text" (click)="radioCheck(1)">Khứ hồi</div>
                            </div>
                               <div class="div-oneway d-flex">
                                <ion-radio value="oneway" class="rd-departure" style="padding-left:32px;width: 47px; height: 19px;--color-checked:#fff;--border-width: 0.5px;" (click)="radioCheck(2)" mode="md"></ion-radio>
                                <div class="rd-text" (click)="radioCheck(2)">Một chiều</div>
                               </div>
                                
                        </ion-radio-group>
                        
                </ion-list>
                </ion-row> -->
                
            </div>

            <ion-row class="row-flight m-top-16">
                <div class="div-width div-relative">
                    <div class="img-input"  (click)="searchFlight(1)">
                        <img class="img-padding img-location" src="./assets/ic_flight/flight_cin.svg"/>
                    </div>

                    <div class="div-input-right text-input-flight div-flex-center " *ngIf="departCode else choiceDepartCode"  (click)="searchFlight(1)">
                        <div class="text-location div-departcode">{{departCity}}<span class="text-code">{{departCode}}</span></div>
                        <div class="text-location-desc div-departcode">{{departAirport}}</div>
                    </div>
                    <ng-template #choiceDepartCode>
                        <div class="div-input-right text-input-flight div-flex-center" (click)="searchFlight(1)">
                            <div class="text-code-empty f-14">
                                Chọn nơi khởi hành
                            </div>
                        </div>
                    </ng-template>

                    <div class="div-switch" (click)="switchDepart()" *ngIf="departCode && returnCode">
                        <img class="img-switch" src="./assets/ic_flight/ic_switch.svg">
                    </div>
                </div>
            </ion-row>

            <ion-row class="row-flight">
                <div class="div-width">
                    <div class="img-input"  (click)="searchFlight(2)">
                        <img class="img-padding img-location" src="./assets/ic_flight/flight_cout.svg"/>
                    </div>

                    <div class="div-input-right text-input-flight div-flex-center" *ngIf="returnCode else choiceReturnCode"  (click)="searchFlight(2)">
                        <div class="text-location div-returncode">{{returnCity}}<span class="text-code">{{returnCode}}</span></div>
                        <div class="text-location-desc div-returncode">{{returnAirport}}</div>
                    </div>
                    <ng-template #choiceReturnCode>
                        <div class="div-input-right text-input-flight div-flex-center"  (click)="searchFlight(2)">
                            <div class="text-code-empty f-14">
                                Chọn nơi đến
                            </div>
                        </div>
                    </ng-template>
                </div>
            </ion-row>

            <div>
                <ion-row class="row-cin-cout " >
                    <div class="div-width d-flex">
                        <div class="div-cin div-width-100" (click)="openPickupCalendar()">
                            <div class="img-cin-cout">
                                <img class="img-padding img-checkin" src="./assets/iocnsearch/ic_checkin.svg"/>
                            </div>
                            <div class="div-input-right text-input-cin div-flex-center">
                                <div class="text-cin">
                                    <label class="text-cin-input">{{ cindisplaymonth }}</label>
                                </div>
                                <div class="font-thu" *ngIf="!cofdate">
                                    <label class="text-color text-cinthu">{{ cinthu }}</label>
                                </div>
                                <div class="font-thu" *ngIf="cofdate">
                                    <label class="text-color text-cinthu text-red">{{cinthu}}</label>
                                </div>
                            </div>
                        </div>
                        <div class="div-roundtrip  div-width-100">
                            <div class=" d-flex t-right"> 
                                <div class="j-center h-48 text-roundtrip div-width-100">Khứ hồi?</div>
                                <div class="j-center h-48 m-r-16"><ion-toggle (ionChange)="changeRoundTrip($event)" [checked]="flighttype == 'twoway' ? true : false"></ion-toggle></div>
                                
                            </div>
                            
                        </div>
                    </div>
                </ion-row>

                <ion-row (click)="openPickupCalendar()" [ngClass]="flighttype == 'twoway' ? 'row-cin-cout' : 'row-cin-cout div-hidden'">
                    <div class="div-width">
                        <div class="div-cin">
                            <div class="img-cin-cout">
                                <img class="img-padding img-checkin" src="./assets/iocnsearch/ic_checkout.svg"/>
                            </div>
                            <div class="div-input-right text-input-cin div-flex-center">
                                <div class="text-cin">
                                    <label class="text-cin-input">{{ coutdisplaymonth }}</label>
                                </div>
                                <div class="font-thu" *ngIf="!cotdate">
                                    <label *ngIf="!cotdate" class="text-color text-cinthu">{{coutthu}}</label>
                                </div>
                                <div class="font-thu" *ngIf="cotdate">
                                    <label *ngIf="cotdate" class="text-color text-cinthu text-red">{{coutthu}}</label>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </ion-row>

                <ion-row class="row-pax" (click)="choicePax()">
                    <div class="div-width">
                        <div class="img-cin-cout">
                            <img class="img-padding img-people" src="./assets/iocnsearch/ic_people.svg"/>
                        </div>

                        <div class="div-input-right div-flex-center">
                            <div class="text-pax">
                                <div class="div-adult">{{ adult }} người lớn<span *ngIf="child">, {{ child }}  trẻ em</span><span *ngIf="infant">, {{ infant }} em bé</span></div>
                                <!-- <div class="div-child text-color">{{ child }} trẻ em, {{ infant }} trẻ sơ sinh</div> -->
                            </div>
                        </div>
                    </div>
                </ion-row>

                <ion-row>
                    <button ion-button round (click)="search()" class="button btn-search" clear>
                        Tìm kiếm
                    </button>
                </ion-row>
            </div>

            

            
            
        </div>
    </div>
    <div  class="div-topSale">
        <img class="img-fire" src="./assets/imgs/ic_fire_homeflight.svg"/>
        <div class="text-topSale" style="margin-left:-3px">
        {{topSale}} khách đã đặt vé trong 24h qua
        </div>
      
      </div>
    <div class="div-topdeal">
        <app-flighttopdeal></app-flighttopdeal>
    </div>
    

    <div [ngClass]="(myflight && myflight.departCity && myflight.returnCity) ? 'div-topdeal-flight' : 'div-topdeal-flight'" *ngIf="listflighttopdeal && listflighttopdeal.length >0">
        
        <div *ngIf="myflight && myflight.departCity && myflight.returnCity" (click)="showMyFlight()">
            <div class="div-text-yourflight">
                Chuyến bay của bạn
            </div>
            <div class="div-content-yourflight">
                <div class="d-flex">
                    <div class="text-flight-title div-width-250 d-flex">
                        <div>
                            <div>{{ myflight.departCity }} </div>
                            <div class="text-flight-datetime">{{ myflight.checkInDisplayMonth }} </div>
                        </div>
                        <div class="div-flight-inout">
                            <img class="img-flight-inout" src="./assets/ic_flight/ic_flight_inout.svg" *ngIf="myflight.roundTrip else oneway">
                            <ng-template #oneway><img class="img-flight-inout img-oneway" src="./assets/imgs/ic_arrow.svg"></ng-template>
                        </div> 
                        <div>
                            <div>{{ myflight.returnCity }} </div>
                            <div class="text-flight-datetime" *ngIf="myflight.roundTrip">{{ myflight.checkOutDisplayMonth }} </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="div-flight-topdeal p-top-32">
            <div class="title-topdeal">Giá vé tốt nhất hiện tại</div>
            <div class="subtitle-topdeal m-bottom-16">Giá tốt hôm nay chớ để ngày mai</div>
        </div>
            
            <div [ngClass]="dx == listflighttopdeal.length-1? 'div-item-flight':'div-item-flight m-bottom-16'" *ngFor="let itemdeal of listflighttopdeal; let idx = index" (click)="select(itemdeal)">
                <div class="div-first d-flex">
    
                    <div class="text-flight-title div-width-600 d-flex">
                        <div>
                            <div>{{ itemdeal.fromPlaceName }} </div>
                            <div class="text-flight-datetime">{{ itemdeal.dateDepartDisplay }} </div>
                        </div>
                        <div class="div-flight-inout">
                            <img class="img-flight-inout" src="./assets/ic_flight/ic_flight_inout.svg" *ngIf="itemdeal.roundTrip else oneway">
                            <ng-template #oneway><img class="img-flight-inout img-oneway" src="../assets/imgs/ic_arrow.svg"></ng-template>
                        </div> 
                        <div>
                            <div>{{ itemdeal.toPlaceNameDisplay }} </div>
                            <div class="text-flight-datetime">{{ itemdeal.dateReturnDisplay }} </div>
                        </div>
                    </div>
                  
                    <div class="div-logo div-width-100 text-right">
                        <img class="img-logo" *ngIf="itemdeal.depart.airCode == 'VietJetAir'" src="./assets/ic_airticket/ic_vietjet_b.png">
                        <img class="img-logo" *ngIf="itemdeal.depart.airCode == 'JetStar'" src="./assets/ic_airticket/ic_jetstar_b.png">
                        <img class="img-logo logo-vna" *ngIf="itemdeal.depart.airCode == 'VietnamAirlines'"src="./assets/ic_airticket/logo_vna.png">
                        <img class="img-logo" *ngIf="itemdeal.depart.airCode == 'BambooAirways'" src="./assets/ic_airticket/ic_bamboo_b.png">
                    </div>
      
                </div>
                <div class="div-date m-top-4 div-width-250">
                </div>
      
                <div class="div-second d-flex p-top-8 m-bottom-16">
                    <div class="flight-price">{{itemdeal.priceDisplay}} <span class="text-sub-price">đ</span></div> 
                    <div class="div-button">
                        <button ion-button round (click)="select(itemdeal)" class="button btn-select" clear>
                        Xem
                        </button>
                    </div>
                </div>
              
            </div>
    </div>

    <div class="div-useful">
        <app-flightuseful></app-flightuseful>
    </div>
</div>

<div class="div-flight-trip" *ngIf="flightTabActive == 2">
    <!-- <app-flightmytrip></app-flightmytrip> -->
    <app-order *ngIf="!isBizAccount else bookings"></app-order>
    <ng-template #bookings>
        <app-booking></app-booking>
    </ng-template>
    
</div>

<div class="div-flight-notify" *ngIf="flightTabActive == 3">
    <app-flightnotify></app-flightnotify>
  </div>

  <div class="div-flight-account" *ngIf="flightTabActive == 4">
    <app-flightaccount></app-flightaccount>
  </div>