{"version":3,"sources":["webpack:///./src/app/weather/weather.html","webpack:///./src/app/weather/weather.module.ts","webpack:///./src/app/weather/weather.scss","webpack:///./src/app/weather/weather.ts"],"names":[],"mappings":"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","file":"weather-weather-module.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-row>\\r\\n        <ion-col style=\\\"text-align: center;height: 48px;\\\">\\r\\n            <div style=\\\"align-self: center\\\" >\\r\\n                <div style=\\\"position: absolute;height: 48px;width: 48px;align-self: center;\\\" (click)=\\\"goback()\\\">\\r\\n                    <img style=\\\"height: 48px; padding: 8px;margin-top: 0px;margin-left:-14px\\\" src=\\\"./assets/imgs/ios-arrow-round-back.svg\\\" >\\r\\n                </div>\\r\\n                <div style=\\\"padding-top: 11px;font-size: 20px;font-weight: bold;\\\"><label class=\\\"text-title\\\">Thời tiết {{CityName}}</label></div>\\r\\n            </div>\\r\\n        </ion-col>\\r\\n        </ion-row>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content >\\r\\n    <div class=\\\"weather-content\\\">\\r\\n        <ion-list *ngFor=\\\"let record of weatherData\\\">\\r\\n            <ion-row>\\r\\n                <ion-col size=\\\"10\\\">\\r\\n                    <div class=\\\"weather-datestr\\\">{{record.datetimeStr}}</div>\\r\\n                    <div class=\\\"weather-tempstr\\\">{{record.tempStr}}</div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"2\\\" class=\\\"weather-img\\\">\\r\\n                    <img src=\\\"{{record.weather.iconUrl}}\\\">\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n            <hr>\\r\\n        </ion-list>\\r\\n    </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { WeatherPage } from './weather';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WeatherPage,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild( [{\r\n      path: '',\r\n      component: WeatherPage\r\n    }]),\r\n  ],\r\n})\r\nexport class WeatherPageModule {}","module.exports = \".header-title {\\n  padding-top: 10px;\\n  text-align: center;\\n  font-size: 20px;\\n  font-weight: bold;\\n  right: 6%;\\n}\\n\\n.header-icon {\\n  width: 48px;\\n  height: 48px;\\n  padding-top: 8px;\\n  text-align: center;\\n}\\n\\n.weather-content {\\n  padding: 16px 16px 16px 11px;\\n}\\n\\n.weather-datestr {\\n  font-size: 12px;\\n  color: #4f4f4f;\\n  padding: 0;\\n}\\n\\n.weather-tempstr {\\n  font-size: 36px;\\n}\\n\\n.weather-img {\\n  align-self: center;\\n  padding-top: 12px;\\n}\\n\\n.list-md {\\n  margin: 0;\\n}\\n\\nhr {\\n  border-bottom: solid 1px #cdcdcd;\\n  margin-left: 5px;\\n  opacity: 0.5;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdGRldi9Eb2N1bWVudHMvRGV2ZWxvcC9PbGl2aWFfaU9TL29saXZpYV9pb3MgaG90Zml4IDIuOS43IHRvdXIvc3JjL2FwcC93ZWF0aGVyL3dlYXRoZXIuc2NzcyIsInNyYy9hcHAvd2VhdGhlci93ZWF0aGVyLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsU0FBQTtBQ0FSOztBREVJO0VBQ00sV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDQ1Y7O0FEQ0k7RUFDSSw0QkFBQTtBQ0VSOztBREFJO0VBQ0ksZUFBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0FDR1I7O0FEREk7RUFDSSxlQUFBO0FDSVI7O0FERkk7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDS1I7O0FESEk7RUFDSSxTQUFBO0FDTVI7O0FESkk7RUFDSSxnQ0FBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQ09SIiwiZmlsZSI6InNyYy9hcHAvd2VhdGhlci93ZWF0aGVyLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuICAgIC5oZWFkZXItdGl0bGV7XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICByaWdodDogNiU7XHJcbiAgICB9XHJcbiAgICAuaGVhZGVyLWljb257XHJcbiAgICAgICAgICB3aWR0aDogNDhweDtcclxuICAgICAgICAgIGhlaWdodDogNDhweDtcclxuICAgICAgICAgIHBhZGRpbmctdG9wOiA4cHg7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcbiAgICAud2VhdGhlci1jb250ZW50e1xyXG4gICAgICAgIHBhZGRpbmc6IDE2cHggMTZweCAxNnB4IDExcHg7XHJcbiAgICB9XHJcbiAgICAud2VhdGhlci1kYXRlc3Rye1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICBjb2xvcjogIzRmNGY0ZjtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG4gICAgLndlYXRoZXItdGVtcHN0cntcclxuICAgICAgICBmb250LXNpemU6IDM2cHg7XHJcbiAgICB9XHJcbiAgICAud2VhdGhlci1pbWd7XHJcbiAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAxMnB4O1xyXG4gICAgfVxyXG4gICAgLmxpc3QtbWQge1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgIH1cclxuICAgIGhye1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjY2RjZGNkO1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICAgICAgb3BhY2l0eTogMC41O1xyXG4gICAgfSIsIi5oZWFkZXItdGl0bGUge1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICByaWdodDogNiU7XG59XG5cbi5oZWFkZXItaWNvbiB7XG4gIHdpZHRoOiA0OHB4O1xuICBoZWlnaHQ6IDQ4cHg7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLndlYXRoZXItY29udGVudCB7XG4gIHBhZGRpbmc6IDE2cHggMTZweCAxNnB4IDExcHg7XG59XG5cbi53ZWF0aGVyLWRhdGVzdHIge1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjNGY0ZjRmO1xuICBwYWRkaW5nOiAwO1xufVxuXG4ud2VhdGhlci10ZW1wc3RyIHtcbiAgZm9udC1zaXplOiAzNnB4O1xufVxuXG4ud2VhdGhlci1pbWcge1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gIHBhZGRpbmctdG9wOiAxMnB4O1xufVxuXG4ubGlzdC1tZCB7XG4gIG1hcmdpbjogMDtcbn1cblxuaHIge1xuICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHggI2NkY2RjZDtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgb3BhY2l0eTogMC41O1xufSJdfQ== */\"","import { Component,NgZone,OnInit } from '@angular/core';\r\nimport { NavController, Platform } from '@ionic/angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport * as request from 'requestretry';\r\nimport { C } from './../providers/constants';\r\nimport { GlobalFunction } from './../providers/globalfunction';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-weather',\r\n  templateUrl: 'weather.html',\r\n  styleUrls: ['weather.scss'],\r\n})\r\n\r\nexport class WeatherPage implements OnInit{\r\n    weatherData:any;\r\n    CityName: string;\r\n    CountryCode: string;\r\n    constructor(public platform: Platform,public navCtrl: NavController,public zone: NgZone,public storage: Storage,\r\n      public gf: GlobalFunction,private ActivatedRoute: ActivatedRoute){\r\n        //Xử lý nút back của dt\r\n        this.platform.ready().then(() => {\r\n          this.platform.backButton.subscribe(() => {\r\n            // code that is executed when the user pressed the back button\r\n            this.navCtrl.back();\r\n          })\r\n        })\r\n      //google analytic\r\n      gf.googleAnalytion('wearther','load','');\r\n    }\r\n\r\n    ngOnInit(){\r\n      this.CityName =this.ActivatedRoute.snapshot.paramMap.get('cityName');\r\n      this.storage.get('weatherInfo').then((data:any)=>{\r\n        if(data){\r\n          this.weatherData = data;\r\n        }else{\r\n          this.fetWeatherData();\r\n        }\r\n    })\r\n    }\r\n\r\n    fetWeatherData(){\r\n        let self = this;\r\n        self.CountryCode=\"VN\";\r\n        var options = {\r\n            method: 'GET',\r\n            url: C.urls.baseUrl.urlMobile +'/api/Dashboard/GetWeatherByCityAndCountryCode?cityName='+self.CityName+'&countryCode='+self.CountryCode,\r\n            timeout: 10000, maxAttempts: 5, retryDelay: 2000,\r\n            headers:\r\n            {},\r\n            json: true\r\n          };\r\n\r\n          request(options, function (error, response, body) {\r\n            if(response.statusCode != 200){\r\n              var objError ={\r\n                  page: \"weather\",\r\n                  func: \"fetWeatherData\",\r\n                  message : response.statusMessage,\r\n                  content : response.body,\r\n                  type: \"warning\",\r\n                  param: JSON.stringify(options)\r\n                };\r\n              C.writeErrorLog(objError,response);\r\n            }\r\n            if (error) {\r\n              error.page = \"weather\";\r\n              error.func = \"fetWeatherData\";\r\n              error.param = JSON.stringify(options);\r\n              C.writeErrorLog(error,response);\r\n              throw new Error(error)\r\n            }else{\r\n              self.zone.run(() => {\r\n                let result = body.data;\r\n                self.weatherData = result;\r\n                self.storage.set('weatherInfo', result);\r\n              });\r\n            }\r\n            \r\n          });\r\n\r\n          \r\n    }\r\n    goback(){\r\n      this.navCtrl.back();\r\n    }\r\n}"],"sourceRoot":""}