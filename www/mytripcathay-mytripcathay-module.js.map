{"version":3,"sources":["webpack:///./src/app/mytripcathay/mytripcathay.module.ts","webpack:///./src/app/mytripcathay/mytripcathay.page.html","webpack:///./src/app/mytripcathay/mytripcathay.page.scss","webpack:///./src/app/mytripcathay/mytripcathay.page.ts"],"names":[],"mappings":"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","file":"mytripcathay-mytripcathay-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MytripcathayPage } from './mytripcathay.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MytripcathayPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MytripcathayPage]\n})\nexport class MytripcathayPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-row>\\n    <ion-col style=\\\"text-align: center;height: 48px;\\\">\\n      <div style=\\\"align-self: center\\\">\\n        <div style=\\\"position: absolute;height: 48px;width: 48px;\\\" (click)=\\\"goback()\\\">\\n          <!-- <ion-icon (click)=\\\"goback()\\\" color=\\\"dark-tint\\\" style=\\\"font-size: 2em;\\\" name=\\\"arrow-back\\\" class=\\\"card-title\\\"></ion-icon> -->\\n          <img style=\\\"height: 48px; padding: 8px;margin-top: 0px;margin-left:-8px\\\"\\n            src=\\\"./assets/imgs/ios-arrow-round-back.svg\\\">\\n        </div>\\n\\n        <div style=\\\"padding-top: 11px;font-size: 20px;font-weight: bold;\\\"><label class=\\\"text-title\\\">Yêu cầu bảo\\n            hiểm</label></div>\\n      </div>\\n    </ion-col>\\n  </ion-row>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"div-cathay\\\">\\n    <div class=\\\"div-big\\\">\\n      <div class=\\\"div-bkg\\\">\\n        <span class=\\\"text-bkg-title\\\">Mã đơn hàng:</span><span class=\\\"text-bkg\\\"> {{booking_id}}</span>\\n      </div>\\n  \\n      <div style=\\\"display: flex;\\\">\\n        <div style=\\\"width:20%\\\">\\n          <img class=\\\"logo-insurance\\\" src=\\\"./assets/logo/logo_1.svg\\\">\\n        </div>\\n        <div>\\n          <div class=\\\"text-name\\\">\\n            {{customerName}}\\n          </div>\\n          <div *ngIf=\\\"noLoginObj\\\" class=\\\"text-code-in\\\">\\n            {{noLoginObj.insurObj.adultList[0].insurance_code}}\\n          </div>\\n        </div>\\n  \\n      </div>\\n      <div class=\\\"text-request margin-top-20\\\">\\n        Yêu cầu bảo hiểm\\n      </div>\\n      <div *ngIf=\\\"noLoginObj\\\">\\n        <div *ngFor=\\\"let flight of noLoginObj.insurObj.adultList[0].flightObj; let i=index\\\"  [hidden]=\\\"!flight.flightNumner || !flight.departureDate\\\">\\n          <div *ngIf=\\\"i==0 && flight.airlineCode\\\">\\n            <div  class=\\\"text-code-in margin-top-8\\\">\\n              {{flight.flightFrom}} -  {{flight.flightTo}}  | {{ replaceDate(flight.departureDate) }}  |  {{ flight.flightNumner }}\\n            </div>\\n            <div *ngIf=\\\"!isClaim(noLoginObj.insurObj.adultList[0].claimedFlights, flight.flightNumner) && checkClaimTime(flight)\\\" class=\\\"text-code-in margin-top-9\\\">\\n             <span class=\\\"text-green\\\" (click)=\\\"claimCathay(noLoginObj.insurObj.adultList[0].insurance_code,flight.flightNumner,noLoginObj.insurObj.adultList[0],1)\\\">Trễ chuyến</span>  |  <span (click)=\\\"claimCathay(noLoginObj.insurObj.adultList[0].insurance_code,flight.flightNumner,noLoginObj.insurObj.adultList[0],3)\\\" class=\\\"text-green\\\">Hủy chuyến</span>\\n            </div>\\n            <div *ngIf=\\\"isClaim(noLoginObj.insurObj.adultList[0].claimedFlights, flight.flightNumner) && checkClaimTime(flight)\\\" class=\\\"text-code-in margin-top-9\\\">\\n              <span >Đã yêu cầu bảo hiểm</span>\\n             </div>\\n          </div>\\n          <div *ngIf=\\\"i!=0 && flight.airlineCode\\\">\\n            <div  class=\\\"text-code-in margin-top-8\\\">\\n              {{flight.flightFrom}} -  {{flight.flightTo}}  | {{ replaceDate(flight.departureDate) }}  |  {{ flight.flightNumner }}\\n            </div>\\n            <div *ngIf=\\\"!isClaim(noLoginObj.insurObj.adultList[0].claimedFlights, flight.flightNumner) && checkClaimTime(flight)\\\" class=\\\"text-code-in margin-top-9\\\">\\n             <span class=\\\"text-green\\\" (click)=\\\"claimCathay(noLoginObj.insurObj.adultList[0].insurance_code,flight.flightNumner,noLoginObj.insurObj.adultList[0],2)\\\">Trễ chuyến</span>  |  <span (click)=\\\"claimCathay(noLoginObj.insurObj.adultList[0].insurance_code,flight.flightNumner,noLoginObj.insurObj.adultList[0],4)\\\" class=\\\"text-green\\\">Hủy chuyến</span>\\n            </div>\\n            <div *ngIf=\\\"isClaim(noLoginObj.insurObj.adultList[0].claimedFlights, flight.flightNumner) && checkClaimTime(flight)\\\" class=\\\"text-code-in margin-top-9\\\">\\n              <span >Đã yêu cầu bảo hiểm</span>\\n             </div>\\n          </div>\\n          <div *ngIf=\\\"!checkClaimTime(flight) && flight.airlineCode\\\" class=\\\"text-hotfare\\\">\\n            <span>*Yêu cầu bồi thường được thực hiện vào ngày chuyến bay khởi hành</span>\\n           </div>\\n        </div>\\n      </div>\\n    </div>\\n    </div>\\n    \\n\\n</ion-content>\"","module.exports = \".text-bkg-title {\\n  font-size: 14px;\\n  font-weight: 100;\\n  color: #333;\\n}\\n\\n.text-bkg {\\n  font-size: 14px;\\n  font-weight: 500;\\n  line-height: 1.5;\\n  letter-spacing: -0.28px;\\n  color: #333;\\n}\\n\\n.text-name {\\n  font-size: 14px;\\n  font-weight: 600;\\n  color: #333;\\n}\\n\\n.text-code-in {\\n  font-size: 14px;\\n  color: #333;\\n}\\n\\n.div-cathay {\\n  background-color: #fff;\\n  border-radius: 4px;\\n  margin: 9px 8px 0px 8px;\\n}\\n\\nion-content {\\n  --ion-background-color: #f2f2f2;\\n}\\n\\n.div-bkg {\\n  padding: 0px 0px 32px 0px;\\n}\\n\\n.div-big {\\n  padding: 16px 0px 26px 8px;\\n}\\n\\n.logo-insurance {\\n  width: 56px;\\n  height: 37px;\\n}\\n\\n.text-request {\\n  font-size: 12px;\\n  letter-spacing: -0.34px;\\n  color: #868998;\\n}\\n\\n.text-green {\\n  font-size: 14px;\\n  color: #00c1de;\\n}\\n\\n.margin-top-20 {\\n  margin-top: 20px;\\n}\\n\\n.margin-top-9 {\\n  margin-top: 9px;\\n}\\n\\n.margin-top-8 {\\n  margin-top: 8px;\\n}\\n\\n.text-hotfare {\\n  color: #828282;\\n  font-size: 11px;\\n  font-weight: 300;\\n  line-height: 1.67;\\n  letter-spacing: -0.24px;\\n  font-style: italic;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdGRldi9Eb2N1bWVudHMvRGV2ZWxvcC9PbGl2aWFfaU9TL29saXZpYV9pb3MgY29weS9zcmMvYXBwL215dHJpcGNhdGhheS9teXRyaXBjYXRoYXkucGFnZS5zY3NzIiwic3JjL2FwcC9teXRyaXBjYXRoYXkvbXl0cmlwY2F0aGF5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGVBQUE7RUFDRixnQkFBQTtFQUNBLFdBQUE7QUNBRjs7QURFQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0FDQ0o7O0FEQ0E7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FDRUo7O0FEQUE7RUFDSSxlQUFBO0VBQ0EsV0FBQTtBQ0dKOztBRERBO0VBQ0ksc0JBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0FDSUo7O0FERkE7RUFDSSwrQkFBQTtBQ0tKOztBREhBO0VBQ0kseUJBQUE7QUNNSjs7QURKQTtFQUNJLDBCQUFBO0FDT0o7O0FETEE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQ1FKOztBRE5BO0VBQ0ksZUFBQTtFQUNBLHVCQUFBO0VBQ0EsY0FBQTtBQ1NKOztBRFBBO0VBQ0ksZUFBQTtFQUNGLGNBQUE7QUNVRjs7QURSQTtFQUNJLGdCQUFBO0FDV0o7O0FEVEE7RUFDSSxlQUFBO0FDWUo7O0FEVkE7RUFDSSxlQUFBO0FDYUo7O0FEWEE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0FDY0oiLCJmaWxlIjoic3JjL2FwcC9teXRyaXBjYXRoYXkvbXl0cmlwY2F0aGF5LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLnRleHQtYmtnLXRpdGxle1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDEwMDtcbiAgY29sb3I6ICMzMzM7XG59XG4udGV4dC1ia2d7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICBsZXR0ZXItc3BhY2luZzogLTAuMjhweDtcbiAgICBjb2xvcjogIzMzMztcbn1cbi50ZXh0LW5hbWV7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OjYwMDtcbiAgICBjb2xvcjogIzMzMztcbn1cbi50ZXh0LWNvZGUtaW57XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjMzMzO1xufVxuLmRpdi1jYXRoYXl7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgbWFyZ2luOiA5cHggOHB4IDBweCA4cHg7XG59XG5pb24tY29udGVudHtcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xufVxuLmRpdi1ia2d7XG4gICAgcGFkZGluZzogMHB4IDBweCAzMnB4IDBweFxufVxuLmRpdi1iaWd7XG4gICAgcGFkZGluZzogMTZweCAwcHggMjZweCA4cHhcbn1cbi5sb2dvLWluc3VyYW5jZXtcbiAgICB3aWR0aDogNTZweDtcbiAgICBoZWlnaHQ6IDM3cHg7XG59XG4udGV4dC1yZXF1ZXN0e1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBsZXR0ZXItc3BhY2luZzogLTAuMzRweDtcbiAgICBjb2xvcjogIzg2ODk5ODtcbn1cbi50ZXh0LWdyZWVue1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6ICMwMGMxZGU7XG59XG4ubWFyZ2luLXRvcC0yMHtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuLm1hcmdpbi10b3AtOXtcbiAgICBtYXJnaW4tdG9wOiA5cHg7XG59XG4ubWFyZ2luLXRvcC04e1xuICAgIG1hcmdpbi10b3A6IDhweDtcbn1cbi50ZXh0LWhvdGZhcmV7XG4gICAgY29sb3I6ICM4MjgyODI7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgbGluZS1oZWlnaHQ6IDEuNjc7XG4gICAgbGV0dGVyLXNwYWNpbmc6IC0wLjI0cHg7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICB9IiwiLnRleHQtYmtnLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogMTAwO1xuICBjb2xvcjogIzMzMztcbn1cblxuLnRleHQtYmtnIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBsaW5lLWhlaWdodDogMS41O1xuICBsZXR0ZXItc3BhY2luZzogLTAuMjhweDtcbiAgY29sb3I6ICMzMzM7XG59XG5cbi50ZXh0LW5hbWUge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4udGV4dC1jb2RlLWluIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBjb2xvcjogIzMzMztcbn1cblxuLmRpdi1jYXRoYXkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIG1hcmdpbjogOXB4IDhweCAwcHggOHB4O1xufVxuXG5pb24tY29udGVudCB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XG59XG5cbi5kaXYtYmtnIHtcbiAgcGFkZGluZzogMHB4IDBweCAzMnB4IDBweDtcbn1cblxuLmRpdi1iaWcge1xuICBwYWRkaW5nOiAxNnB4IDBweCAyNnB4IDhweDtcbn1cblxuLmxvZ28taW5zdXJhbmNlIHtcbiAgd2lkdGg6IDU2cHg7XG4gIGhlaWdodDogMzdweDtcbn1cblxuLnRleHQtcmVxdWVzdCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgbGV0dGVyLXNwYWNpbmc6IC0wLjM0cHg7XG4gIGNvbG9yOiAjODY4OTk4O1xufVxuXG4udGV4dC1ncmVlbiB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6ICMwMGMxZGU7XG59XG5cbi5tYXJnaW4tdG9wLTIwIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cblxuLm1hcmdpbi10b3AtOSB7XG4gIG1hcmdpbi10b3A6IDlweDtcbn1cblxuLm1hcmdpbi10b3AtOCB7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLnRleHQtaG90ZmFyZSB7XG4gIGNvbG9yOiAjODI4MjgyO1xuICBmb250LXNpemU6IDExcHg7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGxpbmUtaGVpZ2h0OiAxLjY3O1xuICBsZXR0ZXItc3BhY2luZzogLTAuMjRweDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute,Router } from '@angular/router';\nimport { ActivityService, GlobalFunction } from '../providers/globalfunction';\nimport { NavController,LoadingController } from '@ionic/angular';\n@Component({\n  selector: 'app-mytripcathay',\n  templateUrl: './mytripcathay.page.html',\n  styleUrls: ['./mytripcathay.page.scss'],\n})\nexport class MytripcathayPage implements OnInit {\n\n  booking_id = \"\"; customerName = \"\";\n  noLoginObj: any;\n  insurance_: any;\n  trip: any;\n  childList=[];\n  childListCathay=[];\n  loader: any;\n  constructor(public gf: GlobalFunction, public activatedRoute: ActivatedRoute,public loadingCtrl: LoadingController,\n     public activityService: ActivityService, private navCtrl: NavController,private router: Router) {\n\n\n  }\n\n  ngOnInit() {\n    this.booking_id = this.activatedRoute.snapshot.paramMap.get('bookingid');\n    this.customerName = this.activityService.objCathayMytrip.name;\n    this.trip=this.activityService.objCathayMytrip.trip;\n    this.getCathay();\n  }\n  goback() {\n    this.navCtrl.back();\n  }\n  getCathay() {\n    this.presentLoading();\n    this.gf.getCathayByKey(this.booking_id).then((data) => {\n      this.loader.dismiss();\n      var json = JSON.parse(data);\n      if (json.result) {\n        this.noLoginObj = json;\n\n        if (\n          this.noLoginObj &&\n          this.noLoginObj.insurObj &&\n          this.noLoginObj.insurObj.adultList.length > 0\n        ) {\n          this.noLoginObj.insurObj.adultList =\n            this.noLoginObj.insurObj.adultList.filter((x) =>\n              x.customer_name.toLowerCase().trim().includes(this.customerName.toLowerCase().trim())\n            );\n            var childList= this.noLoginObj.insurObj.childList;\n            if(childList.length>0){\n              childList.forEach(element => { \n                \n                  element.birth=element.customer_dob;\n                  element.id=element.insurance_code;\n                  element.name=element.customer_name;\n                  this.childList.push(element);\n              });\n            \n            }\n          // console.log(this.noLoginObj.insurObj.adultList);\n        }\n\n      }\n    })\n  }\n  async presentLoading() {\n    this.loader = await this.loadingCtrl.create({\n    });\n    this.loader.present();\n  }\n  checkClaimTime(flightObj) {\n    if (!flightObj || !flightObj.departureDate || !flightObj.departureTime)\n       return false;\n    if (flightObj.departureDate.indexOf(\"/\")) {\n      flightObj.departureDate = flightObj.departureDate.replace(/\\//g, \"-\");\n    }\n   \n    let now: any = new Date();\n    let flightDT: any = this.parseDatetime(\n      flightObj.departureDate,\n      flightObj.departureTime\n    );\n    let hours = (now - flightDT) / 36e5;\n    return hours >= -24 && hours <= 720 ? true : false;\n  }\n  parseDatetime(date: string, time: string) {\n    let dateObj = date.split(\"-\");\n    let dtStr = dateObj[1] + \"/\" + dateObj[0] + \"/\" + dateObj[2] + \" \" + time;\n    return new Date(dtStr);\n  }\n\n  isClaim(flights, flightNumner) {\n    // if(1===1)\n    //   return false;\n    if (!flights) return false;\n    else {\n      // check đã claim tất cả chuyến bay\n      //if(!flightObj)\n      //  return true;\n      // let allFlight = flightObj.filter(x => x.flightNumner);\n      // let flightClaimed = allFlight.filter(x => flights.includes(x.flightNumner.replace(' ', '')));\n      // if(flightClaimed.length === allFlight.length)\n      //   return true;\n      // else\n      //   return false;\n\n      if ( flightNumner && flights.includes(flightNumner.replace(' ', ''))) return true;\n      else return false;\n    }\n  }\n  replaceDate(dateStr: string) {\n    if (dateStr) return dateStr.replace(/-/g, \"/\");\n    else return \"\";\n  }\n  \n  claimCathay(insurId,flightNumner,item,isCancel) {\n    //  Lay insurance\n    this.childListCathay=[];\n     if (insurId.includes(\"|\")) {\n      if (flightNumner && flightNumner != \"\") {\n        let insSeparate = insurId.split(\",\");\n\n        this.insurance_ = insSeparate.find((x) => x.includes(flightNumner));\n        \n        // if (insSeparate.length == 2) {\n          \n        //   // if (this.insurance_ && this.insurance_ != \"\") {\n        //   //   this.insurance_ = this.insurance_.split(\"|\")[0];\n        //   // }\n        // } else {\n        //   if (insurId && insurId != \"\") {\n        //     // this.insurance_ = insurId.split(\"|\")[0];\n        //     this.insurance_ = insurId;\n        //   }\n        // }\n      }\n    }\n    let chuoi=this.insurance_.split(\"|\");\n    this.insurance_=chuoi[0];\n    item.insurance_code= this.insurance_;\n    item.customer_id=item.customer_cmnd;\n    if(this.childList.length>0){\n  \n        this.childList.forEach(element => {\n          if(!this.isClaim(element.claimedFlights, flightNumner)){\n            if(element.insurance_code.indexOf(\",\")){\n              let insSeparate = element.insurance_code.split(\",\");\n              let id = insSeparate.find((x) => x.includes(flightNumner));\n              let chuoi=id.split(\"|\");\n              element.id=chuoi[0];\n            }\n            else{\n              let id = element.insurance_code.find((x) => x.includes(flightNumner));\n              let chuoi=id.split(\"|\");\n              element.id=chuoi[0];\n            }\n            this.childListCathay.push(element);\n          }\n          \n       \n        });\n    }\n   \n    console.log(this.insurance_);\n    this.gf.setParams({ childlist: this.childListCathay, item: item, trip: this.trip, type: isCancel, flightNumber: flightNumner, ischild: false }, 'insurrenceDetail');\n    this.router.navigateByUrl(\"/insurrancedetail\");\n  }\n  \n}\n"],"sourceRoot":""}