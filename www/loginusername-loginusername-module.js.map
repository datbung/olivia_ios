<<<<<<< HEAD
{"version":3,"sources":["webpack:///./src/app/loginusername/loginusername.html","webpack:///./src/app/loginusername/loginusername.module.ts","webpack:///./src/app/loginusername/loginusername.scss","webpack:///./src/app/loginusername/loginusername.ts"],"names":[],"mappings":"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","file":"loginusername-loginusername-module.js","sourcesContent":["module.exports = \"  <div class=\\\"center\\\">\\n    <div style=\\\"margin-top: -20px\\\">\\n      <ion-card-title style=\\\"text-align: center\\\">\\n        <img style=\\\"height: 90px;\\\" src=\\\"./assets/logo/logo.svg\\\" />\\n      </ion-card-title>\\n      <div class=\\\"div-go-back\\\" (click)=\\\"goback()\\\">\\n        <!-- <ion-icon (click)=\\\"goback()\\\" style=\\\"font-size: 2em;float: left;\\\" name=\\\"arrow-back\\\" class=\\\"card-title\\\">\\n        </ion-icon> -->\\n        <img style=\\\"margin-top: 6px;height: 36px;\\\" src=\\\"./assets/imgs/ios-arrow-round-back-white.svg\\\" >\\n      </div>\\n    </div>\\n    <ion-grid>\\n      <ion-row justify-content-around>\\n        <ion-col col-sm-6 col-md-6 col-lg-4 col-xl-3 align-self-center>\\n          <form padding=\\\"true\\\" [formGroup]=\\\"loginData\\\" >\\n              <ion-item style=\\\"--padding-start: 0px\\\">\\n              <ion-label style=\\\"color:white\\\" position=\\\"stacked\\\">Nhập bằng email hoặc số điện thoại</ion-label>\\n              <ion-input  #user  clearInput type=\\\"text\\\" style=\\\"color:white\\\" [(ngModel)]=\\\"emailorphone\\\" formControlName=\\\"emailorphone\\\" autofocus></ion-input>\\n            </ion-item>\\n            <ion-item style=\\\"--padding-start: 0px\\\">\\n              <ion-label style=\\\"color:white\\\"position=\\\"stacked\\\">Mật khẩu</ion-label>\\n              <ion-input clearInput type=\\\"password\\\" style=\\\"color:white\\\" [(ngModel)]=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n            </ion-item>\\n            <ion-row style=\\\"margin-left: -5px\\\">\\n              <ion-col size=\\\"0.5\\\">\\n                  <ion-checkbox formControlName=\\\"ischeck\\\" [(ngModel)]=\\\"ischeck\\\"  color=\\\"secondary\\\" style=\\\"width: 20px;height: 20px;\\\"></ion-checkbox>\\n              </ion-col>\\n              <ion-col size=\\\"10.5\\\">\\n                  <ion-label  style=\\\"color: white;margin: 0px 10px 0px 5px;margin-left: 10px\\\" text-wrap>Nhớ mật khẩu</ion-label>\\n              </ion-col>\\n          </ion-row>\\n            <div style=\\\"text-align: right;color: #fff;font-size: 13px\\\" >\\n              <label (click)=\\\"resetpassword()\\\">\\n                Quên mật khẩu?\\n            </label>\\n            </div>\\n            <div style=\\\"text-align:center\\\">\\n              <button style=\\\"text-transform: none;font-weight: 400;margin-top: 10px;border: solid 1px #fff;background-color: transparent;\\\"\\n                (click)=\\\"next()\\\" class=\\\"button text-button\\\">Đăng\\n                nhập</button>\\n            </div>\\n          </form>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n\\n\\n  \\n\\n \\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { LoginusernamePage } from './loginusername';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n@NgModule({\n  declarations: [\n    LoginusernamePage,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: LoginusernamePage\n      }\n    ])\n  ],\n})\nexport class LoginusernamePageModule {}\n","module.exports = \".div-go-back {\\n  position: absolute;\\n  top: calc(env(safe-area-inset-top) + 16px);\\n  color: #ffffff;\\n  width: 48px;\\n  height: 48px;\\n  padding-left: 16px;\\n}\\n\\n.center {\\n  padding: 57px 0 0 0;\\n  height: 100%;\\n  background-image: url('backgroundnew.jpg');\\n}\\n\\nion-item {\\n  --background: initial;\\n  --border-color: #fff;\\n}\\n\\n.text-button {\\n  text-align: center;\\n  width: 60%;\\n  font-size: 16px;\\n  color: #ffffff;\\n}\\n\\n.button-outline {\\n  --border-color:#ffffff;\\n  --border-width: 1px;\\n  --border-style: solid;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdGRldi9Eb2N1bWVudHMvRGV2ZWxvcC9PbGl2aWFfaU9TL29saXZpYV9pb3MgaG90Zml4IDIuOS43L3NyYy9hcHAvbG9naW51c2VybmFtZS9sb2dpbnVzZXJuYW1lLnNjc3MiLCJzcmMvYXBwL2xvZ2ludXNlcm5hbWUvbG9naW51c2VybmFtZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNHO0VBQ0Msa0JBQUE7RUFDQSwwQ0FBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDQUo7O0FERUk7RUFDRixtQkFBQTtFQUNBLFlBQUE7RUFDQSwwQ0FBQTtBQ0NGOztBRENJO0VBQ0kscUJBQUE7RUFDQSxvQkFBQTtBQ0VSOztBREFJO0VBQ0Ysa0JBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUNHRjs7QUREQztFQUNDLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0lGIiwiZmlsZSI6InNyYy9hcHAvbG9naW51c2VybmFtZS9sb2dpbnVzZXJuYW1lLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgIC5kaXYtZ28tYmFja3tcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiBjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSArIDE2cHgpO1xuICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgIHdpZHRoOiA0OHB4O1xuICAgIGhlaWdodDogNDhweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7XG4gIH1cbiAgICAuY2VudGVyIHtcblx0XHRwYWRkaW5nOiA1N3B4IDAgMCAwO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uL2Fzc2V0cy9iYWNrZ3JvdW5kbmV3LmpwZycpXG4gICAgfVxuICAgIGlvbi1pdGVte1xuICAgICAgICAtLWJhY2tncm91bmQ6IGluaXRpYWw7XG4gICAgICAgIC0tYm9yZGVyLWNvbG9yOiAjZmZmO1xuICAgIH1cbiAgICAudGV4dC1idXR0b257XG5cdFx0dGV4dC1hbGlnbjpjZW50ZXI7XG5cdFx0d2lkdGg6IDYwJTtcblx0XHRmb250LXNpemU6IDE2cHg7XG5cdFx0Y29sb3I6ICNmZmZmZmZcblx0fVxuXHQuYnV0dG9uLW91dGxpbmUge1xuXHRcdC0tYm9yZGVyLWNvbG9yOiNmZmZmZmY7XG5cdFx0LS1ib3JkZXItd2lkdGg6IDFweDtcblx0XHQtLWJvcmRlci1zdHlsZTogc29saWQ7XG5cblx0fVxuICAgIFxuICBcblxuIiwiLmRpdi1nby1iYWNrIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IGNhbGMoZW52KHNhZmUtYXJlYS1pbnNldC10b3ApICsgMTZweCk7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICB3aWR0aDogNDhweDtcbiAgaGVpZ2h0OiA0OHB4O1xuICBwYWRkaW5nLWxlZnQ6IDE2cHg7XG59XG5cbi5jZW50ZXIge1xuICBwYWRkaW5nOiA1N3B4IDAgMCAwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uL2Fzc2V0cy9iYWNrZ3JvdW5kbmV3LmpwZ1wiKTtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6IGluaXRpYWw7XG4gIC0tYm9yZGVyLWNvbG9yOiAjZmZmO1xufVxuXG4udGV4dC1idXR0b24ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiA2MCU7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6ICNmZmZmZmY7XG59XG5cbi5idXR0b24tb3V0bGluZSB7XG4gIC0tYm9yZGVyLWNvbG9yOiNmZmZmZmY7XG4gIC0tYm9yZGVyLXdpZHRoOiAxcHg7XG4gIC0tYm9yZGVyLXN0eWxlOiBzb2xpZDtcbn0iXX0= */\"","import { Component, NgZone, OnInit, ViewChild } from '@angular/core';\nimport { NavController, Platform } from '@ionic/angular';\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { AuthService } from '../providers/auth-service';\nimport { Storage } from '@ionic/storage';\nimport { ToastController } from '@ionic/angular';\nimport * as request from 'requestretry';\nimport jwt_decode from 'jwt-decode';\nimport { ValueGlobal,SearchHotel } from '../providers/book-service';\nimport { C } from '../providers/constants';\nimport { GlobalFunction } from '../providers/globalfunction';\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\nimport { FCM } from '@ionic-native/fcm/ngx';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\nimport { foodService } from '../providers/foodService';\nimport { flightService } from '../providers/flightService';\n\n@Component({\n  selector: 'app-loginusername',\n  templateUrl: 'loginusername.html',\n  styleUrls: ['loginusername.scss'],\n})\n\nexport class LoginusernamePage implements OnInit {\n  public loginData: FormGroup;\n  @ViewChild('user') input;checkreview;emailorphone='';password=''\n  deviceToken: any;\n  appversion: string;ischeck;refreshTokenTimer\n  constructor(public keyboard: Keyboard, public platform: Platform, public valueGlobal: ValueGlobal, public navCtrl: NavController, public formBuilder: FormBuilder, public authService: AuthService, public storage: Storage,\n    private toastCtrl: ToastController, public zone: NgZone, public gf: GlobalFunction,public searchhotel: SearchHotel, private fcm: FCM,private appVersion: AppVersion,\n    public foodService: foodService,\n    public _flightService: flightService) {\n      this.loginData = this.formBuilder.group({\n        emailorphone: ['', Validators.compose([Validators.required])],\n        password: ['', Validators.compose([Validators.required, Validators.minLength(6)])],\n        ischeck: ['', Validators.compose([Validators.required])],\n      });\n      this.storage.get('checkreview').then(checkreview => {\n        this.checkreview=checkreview;\n      })\n      this.storage.get('emailrmb').then(emailrmb => {\n        this.emailorphone=emailrmb;\n      })\n      this.storage.get('password').then(password => {\n        if (password) {\n          this.password=password;\n          this.ischeck=true;\n        }\n      })\n\n  }\n  ngOnInit() {\n   \n  }\n  next()\n  {\n    if (this.loginData.value.emailorphone) {\n      var checkmail = this.validateEmail(this.loginData.value.emailorphone);\n      if (checkmail) {\n        if (this.loginData.value.password) {\n          var test = this.loginData.value.password.length;\n          if (test >= 6) {\n            this.logintk();\n          } else {\n            this.presentToast(\"Mật khẩu phải ít nhất 6 ký tự\");\n          }\n        }\n        else\n        {\n          this.presentToast(\"Vui lòng nhập mật khẩu\");\n        }\n      }\n      else{\n        if(this.phonenumber(this.loginData.value.emailorphone))\n        {\n          this.logintk();\n        }\n        else{\n          this.presentToast(\"Định dạng email không đúng hoặc số điện thoại không chính xác\");\n        } \n      }\n     \n    } else {\n      this.presentToast(\"Vui lòng nhập email hoặc số điện thoại\");\n    }\n  }\n  logintk() {\n    var se = this;\n    var options = {\n      method: 'POST',\n      url: C.urls.baseUrl.urlMobile + '/api/Account/Login',\n      //url:'http://192.168.10.121:3400/api/Account/Login',\n      timeout: 10000, maxAttempts: 5, retryDelay: 2000,\n      headers:\n      {\n        'cache-control': 'no-cache',\n        'content-type': 'application/json'\n      },\n      body:\n      {\n        emailOrPhone: this.loginData.value.emailorphone,\n        password: this.loginData.value.password,\n        rememberMe: true\n      },\n      json: true\n    };\n\n    request(options, function (error, response, body) {\n      if (error) {\n        error.page = \"loginusername\";\n        error.func = \"logintk\";\n        error.param = JSON.stringify(options);\n        C.writeErrorLog(error,response);\n      };\n      // var result=JSON.parse(body);\n      if (body.auth_token) {\n        var decoded = jwt_decode(body.auth_token);\n        se.refreshTokenTimer=decoded.refreshTokenTimer;\n        se.storage.set(\"savepassword\", se.loginData.value.password);\n        se.storage.set(\"saveemail\", decoded.email);\n        se.zone.run(() => {\n          se.storage.set(\"email\", decoded.email);\n          se.storage.set(\"auth_token\", body.auth_token);\n          se.storage.set(\"username\", decoded.fullname);\n          se.storage.set(\"phone\", decoded.phone);\n          se.storage.remove('deviceToken');\n          se.fcm.getToken().then(token => {\n            se.deviceToken = token;\n            se.storage.set('deviceToken',token);\n            //PDANH 19/07/2019: Push memberid & devicetoken\n            if(se.deviceToken){\n              se.gf.pushTokenAndMemberID(body.auth_token, se.deviceToken, se.appversion);\n            }\n          });\n          se.valueGlobal.countNotifi=0;\n          // var checkfullname=se.hasWhiteSpace(decoded.fullname);\n          var checkfullname = se.validateEmail(decoded.fullname);\n          var info;\n          if (!checkfullname) {\n            var textfullname=decoded.fullname.split(' ')\n            //info = { ho: textfullname[0], ten: textfullname[1], phone: decoded.phone}\n            if(textfullname.length >2){\n              let name = '';\n              for(let i = 1; i < textfullname.length; i++){\n                if(i == 1){\n                  name += textfullname[i];\n                }else{\n                  name +=' ' +textfullname[i];\n                }\n              }\n              info = { ho: textfullname[0], ten: name , phone: decoded.phone}\n            }else if(textfullname.length>1){\n              info = { ho: textfullname[0], ten: textfullname[1], phone: decoded.phone}\n            }\n            else if(textfullname.length==1){\n              info = { ho: textfullname[0], ten: \"\", phone: decoded.phone}\n            }\n            se.storage.set(\"infocus\", info);\n          } else {\n            info = { ho: \"\", ten: \"\", phone: decoded.phone}\n            se.storage.set(\"infocus\", info);\n          }\n          if (Array.isArray(decoded.jti)) {\n            se.storage.set(\"jti\", decoded.jti[0]);\n          }\n          else {\n            se.storage.set(\"jti\", decoded.jti);\n          }\n          if (!se.checkreview) {\n            se.storage.set(\"checkreview\", 0);\n          }\n          \n          se.storage.set(\"point\", decoded.point);\n          if (se.loginData.value.ischeck) {\n            se.storage.remove(\"password\");\n            se.storage.remove(\"emailrmb\");\n            se.storage.set(\"password\", se.loginData.value.password);\n            se.storage.set(\"emailrmb\", se.loginData.value.emailorphone);\n          }\n          else\n          {\n            se.storage.remove(\"password\");\n            se.storage.remove(\"emailrmb\");\n          }\n          \n          se.storage.remove('blogtripdefault');\n          se.storage.remove('regionnamesuggest');\n          se.storage.remove('listtopdealdefault');\n          se.gf.setParams(true,'resetBlogTrips');\n          se.searchhotel.rootPage ='login';\n          //se.countdownRefreshToken();\n             //ẩn menu footer food\n             if(document.getElementsByClassName(\"homefood-footer\").length >0){\n              document.getElementsByClassName(\"homefood-footer\")[0]['style'].display ='none';\n            }\n            if(se.valueGlobal.backValue == 'foodaccount'){\n              se.foodService.menuFooterClick.emit(4);\n            }\n            if(se.valueGlobal.backValue == \"flightaccount\"){\n              se._flightService.itemMenuFlightClick.emit(4);\n            }\n          if (se.valueGlobal.logingoback) {\n            if(se.valueGlobal.logingoback ==\"flightadddetails\"){\n              se._flightService.itemFlightLogin.emit(1);\n            }\n            se.navCtrl.navigateBack([se.valueGlobal.logingoback]);\n          }\n          else{\n            se.navCtrl.navigateRoot('/');\n          }\n        }, 10)\n\n      }\n      else {\n        se.presentToast(body.msg);\n      }\n    });\n\n    // this.authService.login(this.loginData.value)\n    //   .then(() => this.redirectToHome())\n    //   .catch(e => console.log(\"login error\", e));;\n\n    //google analytic\n    this.gf.googleAnalytion('loginusername', 'login', '');\n  }\n  hasWhiteSpace(s) {\n    return s.indexOf(' ') >= 0;\n  } \n  redirectToHome() {\n    this.storage.get('id_token').then(id_token => {\n      if (id_token !== null) {\n        // this.storage.get('user').then(user => {\n        //   this.id = user.id,\n        //     this.user = user.username\n        // });\n        // this.toUser = {\n        //   UserId: this.id,\n        //   UserName: this.user,\n        // }\n        //this.navCtrl.push('QuestionContactPage');\n      }\n      else {\n        this.presentToast(\"Email hoặc mật khẩu không đúng.\");\n      }\n    });\n  }\n  async presentToast(msg) {\n    let toast = await this.toastCtrl.create({\n      message: msg,\n      duration: 3000,\n      position: 'top'\n    });\n\n    toast.present();\n  }\n\n  ionViewWillEnter(){\n    //Test notification\n      this.platform.ready().then(() => {\n        this.fcm.getToken().then(token => {\n          console.log(token);\n          this.deviceToken = token;\n      });\n    })\n    //Lấy app version\n    this.appVersion.getVersionNumber().then(version => {\n      this.appversion=version;\n    })\n  }\n  countdownRefreshToken() {\n    var timer = parseInt(this.refreshTokenTimer);\n    //var timer = 10;\n    this.countdownTimer(timer);\n  }\n  countdownTimer(timer: number) {\n    if (timer >= 0) {\n      clearInterval(this.valueGlobal.interval);\n      this.valueGlobal.interval = setInterval(() => {\n        timer--;\n        // console.log(timer);\n        if (timer < 0) {\n          clearInterval(this.valueGlobal.interval);\n          // Reload lại Token để lấy User Info mới nhất\n          this.reloadToken()\n            // .subscribe(\n            //   result => {\n            //     //console.log(\"Reload user info thành công !\");\n            //     // Tạo 1 vòng lặp refresh liên tục khi get Token mới\n            //     this.userService.getUserInfo();\n            //     var timer = parseInt(this.userInfo.refreshTokenTimer);\n            //     this.countdownTimer(timer);\n\n            //   },\n            //   error => { });\n        }\n      }, 1000);\n\n    }\n  }\n  reloadToken() {\n    this.refreshToken();\n  }\n\n  refreshToken() {\n    var se = this;\n    se.storage.get('auth_token').then(auth_token => {\n      if (auth_token) {\n        var text = \"Bearer \" + auth_token;\n        var options = {\n          method: 'GET',\n          url: C.urls.baseUrl.urlMobile + '/api/Account/reloadTokenClaims',\n          headers:\n          {\n            'cache-control': 'no-cache',\n            'content-type': 'application/json',\n            authorization: text\n          },\n        }\n        request(options, function (error, response, body) {\n          if (response.statusCode != 200) {\n            var objError = {\n              page: \"roompaymentdoneean\",\n              func: \"refreshToken\",\n              message: response.statusMessage,\n              content: response.body,\n              type: \"warning\",\n              param: JSON.stringify(options)\n            };\n            C.writeErrorLog(objError,response);\n          }\n          if (error) {\n            error.page = \"roompaymentdoneean\";\n            error.func = \"refreshToken\";\n            error.param = JSON.stringify(options);\n            C.writeErrorLog(error,response);\n          } else {\n            var json=JSON.parse(body);\n            if (json.auth_token) {\n              se.storage.remove('auth_token').then(()=>{\n                se.storage.set(\"auth_token\", json.auth_token);\n              })\n              //se.countdownRefreshToken();\n            }\n          \n          }\n        })\n      }\n    })\n  }\n// getToken() {\n//   this.storage.get('auth_token').then(auth_token => {\n//     if (auth_token) {\n//     }\n//   })\n//   }\n  ionViewDidEnter() {\n    setTimeout(() => {\n      this.input.setFocus();\n    }, 150);\n    this.keyboard.show();\n    //Xử lý nút back của dt\n    //   this.platform.ready().then(() => {\n    //     this.platform.registerBackButtonAction(() => {\n    //       if(this.navCtrl.canGoBack()){\n    //         this.view.dismiss();\n    //       }else{\n    //         this.platform.exitApp();\n    //       }\n    //     })\n    // })\n  }\n\n  goback() {\n    this.navCtrl.back();\n  }\n\n  resetpassword(){\n    this.navCtrl.navigateForward('/forgotpass');\n  }\n  validateEmail(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n  phonenumber(inputtxt) {\n    var n = Number(inputtxt);\n    if (n) {\n      var test1 = inputtxt.length;\n      if (inputtxt) {\n        if (test1 == 10) {\n          return true;\n        }\n        else {\n          return false;\n        }\n      }\n      else {\n        return false;\n      }\n    }\n    else {\n      return false;\n    }\n  }\n}\n"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///./src/app/loginusername/loginusername.html","webpack:///./src/app/loginusername/loginusername.module.ts","webpack:///./src/app/loginusername/loginusername.scss","webpack:///./src/app/loginusername/loginusername.ts"],"names":[],"mappings":"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","file":"loginusername-loginusername-module.js","sourcesContent":["module.exports = \"  <div class=\\\"center\\\">\\n    <div style=\\\"margin-top: -20px\\\">\\n      <ion-card-title style=\\\"text-align: center\\\">\\n        <img style=\\\"height: 90px;\\\" src=\\\"./assets/logo/logo.svg\\\" />\\n      </ion-card-title>\\n      <div class=\\\"div-go-back\\\" (click)=\\\"goback()\\\">\\n        <!-- <ion-icon (click)=\\\"goback()\\\" style=\\\"font-size: 2em;float: left;\\\" name=\\\"arrow-back\\\" class=\\\"card-title\\\">\\n        </ion-icon> -->\\n        <img style=\\\"margin-top: 6px;height: 36px;\\\" src=\\\"./assets/imgs/ios-arrow-round-back-white.svg\\\" >\\n      </div>\\n    </div>\\n    <ion-grid>\\n      <ion-row justify-content-around>\\n        <ion-col col-sm-6 col-md-6 col-lg-4 col-xl-3 align-self-center>\\n          <form padding=\\\"true\\\" [formGroup]=\\\"loginData\\\" >\\n              <ion-item style=\\\"--padding-start: 0px\\\">\\n              <ion-label style=\\\"color:white\\\" position=\\\"stacked\\\">Nhập bằng email hoặc số điện thoại</ion-label>\\n              <ion-input  #user  clearInput type=\\\"text\\\" style=\\\"color:white\\\" [(ngModel)]=\\\"emailorphone\\\" formControlName=\\\"emailorphone\\\" autofocus></ion-input>\\n            </ion-item>\\n            <ion-item style=\\\"--padding-start: 0px\\\">\\n              <ion-label style=\\\"color:white\\\"position=\\\"stacked\\\">Mật khẩu</ion-label>\\n              <ion-input clearInput type=\\\"password\\\" style=\\\"color:white\\\" [(ngModel)]=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n            </ion-item>\\n            <ion-row style=\\\"margin-left: -5px\\\">\\n              <ion-col size=\\\"0.5\\\">\\n                  <ion-checkbox formControlName=\\\"ischeck\\\" [(ngModel)]=\\\"ischeck\\\"  color=\\\"secondary\\\" style=\\\"width: 20px;height: 20px;\\\"></ion-checkbox>\\n              </ion-col>\\n              <ion-col size=\\\"10.5\\\">\\n                  <ion-label  style=\\\"color: white;margin: 0px 10px 0px 5px;margin-left: 10px\\\" text-wrap>Nhớ mật khẩu</ion-label>\\n              </ion-col>\\n          </ion-row>\\n            <div style=\\\"text-align: right;color: #fff;font-size: 13px\\\" >\\n              <label (click)=\\\"resetpassword()\\\">\\n                Quên mật khẩu?\\n            </label>\\n            </div>\\n            <div style=\\\"text-align:center\\\">\\n              <button style=\\\"text-transform: none;font-weight: 400;margin-top: 10px;border: solid 1px #fff;background-color: transparent;\\\"\\n                (click)=\\\"next()\\\" class=\\\"button text-button\\\">Đăng\\n                nhập</button>\\n            </div>\\n          </form>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n\\n\\n  \\n\\n \\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { LoginusernamePage } from './loginusername';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n@NgModule({\n  declarations: [\n    LoginusernamePage,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: LoginusernamePage\n      }\n    ])\n  ],\n})\nexport class LoginusernamePageModule {}\n","module.exports = \".div-go-back {\\n  position: absolute;\\n  top: calc(env(safe-area-inset-top) + 16px);\\n  color: #ffffff;\\n  width: 48px;\\n  height: 48px;\\n  padding-left: 16px;\\n}\\n\\n.center {\\n  padding: 57px 0 0 0;\\n  height: 100%;\\n  background-image: url('backgroundnew.jpg');\\n}\\n\\nion-item {\\n  --background: initial;\\n  --border-color: #fff;\\n}\\n\\n.text-button {\\n  text-align: center;\\n  width: 60%;\\n  font-size: 16px;\\n  color: #ffffff;\\n}\\n\\n.button-outline {\\n  --border-color:#ffffff;\\n  --border-width: 1px;\\n  --border-style: solid;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kZXYtaXZpdnUvRG9jdW1lbnRzL0RldmVsb3Avb2xpdmlhX2lvcy9zcmMvYXBwL2xvZ2ludXNlcm5hbWUvbG9naW51c2VybmFtZS5zY3NzIiwic3JjL2FwcC9sb2dpbnVzZXJuYW1lL2xvZ2ludXNlcm5hbWUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRztFQUNDLGtCQUFBO0VBQ0EsMENBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0FKOztBREVJO0VBQ0YsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsMENBQUE7QUNDRjs7QURDSTtFQUNJLHFCQUFBO0VBQ0Esb0JBQUE7QUNFUjs7QURBSTtFQUNGLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FDR0Y7O0FEREM7RUFDQyxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNJRiIsImZpbGUiOiJzcmMvYXBwL2xvZ2ludXNlcm5hbWUvbG9naW51c2VybmFtZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAuZGl2LWdvLWJhY2t7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogY2FsYyhlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCkgKyAxNnB4KTtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICB3aWR0aDogNDhweDtcbiAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAxNnB4O1xuICB9XG4gICAgLmNlbnRlciB7XG5cdFx0cGFkZGluZzogNTdweCAwIDAgMDtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi8uLi9hc3NldHMvYmFja2dyb3VuZG5ldy5qcGcnKVxuICAgIH1cbiAgICBpb24taXRlbXtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiBpbml0aWFsO1xuICAgICAgICAtLWJvcmRlci1jb2xvcjogI2ZmZjtcbiAgICB9XG4gICAgLnRleHQtYnV0dG9ue1xuXHRcdHRleHQtYWxpZ246Y2VudGVyO1xuXHRcdHdpZHRoOiA2MCU7XG5cdFx0Zm9udC1zaXplOiAxNnB4O1xuXHRcdGNvbG9yOiAjZmZmZmZmXG5cdH1cblx0LmJ1dHRvbi1vdXRsaW5lIHtcblx0XHQtLWJvcmRlci1jb2xvcjojZmZmZmZmO1xuXHRcdC0tYm9yZGVyLXdpZHRoOiAxcHg7XG5cdFx0LS1ib3JkZXItc3R5bGU6IHNvbGlkO1xuXG5cdH1cbiAgICBcbiAgXG5cbiIsIi5kaXYtZ28tYmFjayB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiBjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSArIDE2cHgpO1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgd2lkdGg6IDQ4cHg7XG4gIGhlaWdodDogNDhweDtcbiAgcGFkZGluZy1sZWZ0OiAxNnB4O1xufVxuXG4uY2VudGVyIHtcbiAgcGFkZGluZzogNTdweCAwIDAgMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi9hc3NldHMvYmFja2dyb3VuZG5ldy5qcGdcIik7XG59XG5cbmlvbi1pdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiBpbml0aWFsO1xuICAtLWJvcmRlci1jb2xvcjogI2ZmZjtcbn1cblxuLnRleHQtYnV0dG9uIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogNjAlO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjZmZmZmZmO1xufVxuXG4uYnV0dG9uLW91dGxpbmUge1xuICAtLWJvcmRlci1jb2xvcjojZmZmZmZmO1xuICAtLWJvcmRlci13aWR0aDogMXB4O1xuICAtLWJvcmRlci1zdHlsZTogc29saWQ7XG59Il19 */\"","import { Component, NgZone, OnInit, ViewChild } from '@angular/core';\nimport { NavController, Platform } from '@ionic/angular';\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { AuthService } from '../providers/auth-service';\nimport { Storage } from '@ionic/storage';\nimport { ToastController } from '@ionic/angular';\nimport * as request from 'requestretry';\nimport jwt_decode from 'jwt-decode';\nimport { ValueGlobal,SearchHotel } from '../providers/book-service';\nimport { C } from '../providers/constants';\nimport { GlobalFunction } from '../providers/globalfunction';\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\nimport { FCM } from '@ionic-native/fcm/ngx';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\nimport { foodService } from '../providers/foodService';\nimport { flightService } from '../providers/flightService';\n\n@Component({\n  selector: 'app-loginusername',\n  templateUrl: 'loginusername.html',\n  styleUrls: ['loginusername.scss'],\n})\n\nexport class LoginusernamePage implements OnInit {\n  public loginData: FormGroup;\n  @ViewChild('user') input;checkreview;emailorphone='';password=''\n  deviceToken: any;\n  appversion: string;ischeck;refreshTokenTimer\n  constructor(public keyboard: Keyboard, public platform: Platform, public valueGlobal: ValueGlobal, public navCtrl: NavController, public formBuilder: FormBuilder, public authService: AuthService, public storage: Storage,\n    private toastCtrl: ToastController, public zone: NgZone, public gf: GlobalFunction,public searchhotel: SearchHotel, private fcm: FCM,private appVersion: AppVersion,\n    public foodService: foodService,\n    public _flightService: flightService) {\n      this.loginData = this.formBuilder.group({\n        emailorphone: ['', Validators.compose([Validators.required])],\n        password: ['', Validators.compose([Validators.required, Validators.minLength(6)])],\n        ischeck: ['', Validators.compose([Validators.required])],\n      });\n      this.storage.get('checkreview').then(checkreview => {\n        this.checkreview=checkreview;\n      })\n      this.storage.get('emailrmb').then(emailrmb => {\n        this.emailorphone=emailrmb;\n      })\n      this.storage.get('password').then(password => {\n        if (password) {\n          this.password=password;\n          this.ischeck=true;\n        }\n      })\n\n  }\n  ngOnInit() {\n   \n  }\n  next()\n  {\n    if (this.loginData.value.emailorphone) {\n      var checkmail = this.validateEmail(this.loginData.value.emailorphone);\n      if (checkmail) {\n        if (this.loginData.value.password) {\n          var test = this.loginData.value.password.length;\n          if (test >= 6) {\n            this.logintk();\n          } else {\n            this.presentToast(\"Mật khẩu phải ít nhất 6 ký tự\");\n          }\n        }\n        else\n        {\n          this.presentToast(\"Vui lòng nhập mật khẩu\");\n        }\n      }\n      else{\n        if(this.phonenumber(this.loginData.value.emailorphone))\n        {\n          this.logintk();\n        }\n        else{\n          this.presentToast(\"Định dạng email không đúng hoặc số điện thoại không chính xác\");\n        } \n      }\n     \n    } else {\n      this.presentToast(\"Vui lòng nhập email hoặc số điện thoại\");\n    }\n  }\n  logintk() {\n    var se = this;\n    var options = {\n      method: 'POST',\n      url: C.urls.baseUrl.urlMobile + '/api/Account/Login',\n      //url:'http://192.168.10.121:3400/api/Account/Login',\n      timeout: 10000, maxAttempts: 5, retryDelay: 2000,\n      headers:\n      {\n        'cache-control': 'no-cache',\n        'content-type': 'application/json'\n      },\n      body:\n      {\n        emailOrPhone: this.loginData.value.emailorphone,\n        password: this.loginData.value.password,\n        rememberMe: true\n      },\n      json: true\n    };\n\n    request(options, function (error, response, body) {\n      if (error) {\n        error.page = \"loginusername\";\n        error.func = \"logintk\";\n        error.param = JSON.stringify(options);\n        C.writeErrorLog(error,response);\n      };\n      // var result=JSON.parse(body);\n      if (body.auth_token) {\n        var decoded = jwt_decode(body.auth_token);\n        se.refreshTokenTimer=decoded.refreshTokenTimer;\n        se.storage.set(\"savepassword\", se.loginData.value.password);\n        se.storage.set(\"saveemail\", decoded.email);\n        se.zone.run(() => {\n          se.storage.set(\"email\", decoded.email);\n          se.storage.set(\"auth_token\", body.auth_token);\n          se.storage.set(\"username\", decoded.fullname);\n          se.storage.set(\"phone\", decoded.phone);\n          se.storage.remove('deviceToken');\n          se.fcm.getToken().then(token => {\n            se.deviceToken = token;\n            se.storage.set('deviceToken',token);\n            //PDANH 19/07/2019: Push memberid & devicetoken\n            if(se.deviceToken){\n              se.gf.pushTokenAndMemberID(body.auth_token, se.deviceToken, se.appversion);\n            }\n          });\n          se.valueGlobal.countNotifi=0;\n          // var checkfullname=se.hasWhiteSpace(decoded.fullname);\n          var checkfullname = se.validateEmail(decoded.fullname);\n          var info;\n          if (!checkfullname) {\n            var textfullname=decoded.fullname.split(' ')\n            //info = { ho: textfullname[0], ten: textfullname[1], phone: decoded.phone}\n            if(textfullname.length >2){\n              let name = '';\n              for(let i = 1; i < textfullname.length; i++){\n                if(i == 1){\n                  name += textfullname[i];\n                }else{\n                  name +=' ' +textfullname[i];\n                }\n              }\n              info = { ho: textfullname[0], ten: name , phone: decoded.phone}\n            }else if(textfullname.length>1){\n              info = { ho: textfullname[0], ten: textfullname[1], phone: decoded.phone}\n            }\n            else if(textfullname.length==1){\n              info = { ho: textfullname[0], ten: \"\", phone: decoded.phone}\n            }\n            se.storage.set(\"infocus\", info);\n          } else {\n            info = { ho: \"\", ten: \"\", phone: decoded.phone}\n            se.storage.set(\"infocus\", info);\n          }\n          if (Array.isArray(decoded.jti)) {\n            se.storage.set(\"jti\", decoded.jti[0]);\n          }\n          else {\n            se.storage.set(\"jti\", decoded.jti);\n          }\n          if (!se.checkreview) {\n            se.storage.set(\"checkreview\", 0);\n          }\n          \n          se.storage.set(\"point\", decoded.point);\n          if (se.loginData.value.ischeck) {\n            se.storage.remove(\"password\");\n            se.storage.remove(\"emailrmb\");\n            se.storage.set(\"password\", se.loginData.value.password);\n            se.storage.set(\"emailrmb\", se.loginData.value.emailorphone);\n          }\n          else\n          {\n            se.storage.remove(\"password\");\n            se.storage.remove(\"emailrmb\");\n          }\n          \n          se.storage.remove('blogtripdefault');\n          se.storage.remove('regionnamesuggest');\n          se.storage.remove('listtopdealdefault');\n          se.gf.setParams(true,'resetBlogTrips');\n          se.searchhotel.rootPage ='login';\n          //se.countdownRefreshToken();\n             //ẩn menu footer food\n             if(document.getElementsByClassName(\"homefood-footer\").length >0){\n              document.getElementsByClassName(\"homefood-footer\")[0]['style'].display ='none';\n            }\n            if(se.valueGlobal.backValue == 'foodaccount'){\n              se.foodService.menuFooterClick.emit(4);\n            }\n            if(se.valueGlobal.backValue == \"flightaccount\"){\n              se._flightService.itemMenuFlightClick.emit(4);\n            }\n          if (se.valueGlobal.logingoback) {\n            if(se.valueGlobal.logingoback ==\"flightadddetails\"){\n              se._flightService.itemFlightLogin.emit(1);\n            }\n            se.navCtrl.navigateBack([se.valueGlobal.logingoback]);\n          }\n          else{\n            se.navCtrl.navigateRoot('/');\n          }\n        }, 10)\n\n      }\n      else {\n        se.presentToast(body.msg);\n      }\n    });\n\n    // this.authService.login(this.loginData.value)\n    //   .then(() => this.redirectToHome())\n    //   .catch(e => console.log(\"login error\", e));;\n\n    //google analytic\n    this.gf.googleAnalytion('loginusername', 'login', '');\n  }\n  hasWhiteSpace(s) {\n    return s.indexOf(' ') >= 0;\n  } \n  redirectToHome() {\n    this.storage.get('id_token').then(id_token => {\n      if (id_token !== null) {\n        // this.storage.get('user').then(user => {\n        //   this.id = user.id,\n        //     this.user = user.username\n        // });\n        // this.toUser = {\n        //   UserId: this.id,\n        //   UserName: this.user,\n        // }\n        //this.navCtrl.push('QuestionContactPage');\n      }\n      else {\n        this.presentToast(\"Email hoặc mật khẩu không đúng.\");\n      }\n    });\n  }\n  async presentToast(msg) {\n    let toast = await this.toastCtrl.create({\n      message: msg,\n      duration: 3000,\n      position: 'top'\n    });\n\n    toast.present();\n  }\n\n  ionViewWillEnter(){\n    //Test notification\n      this.platform.ready().then(() => {\n        this.fcm.getToken().then(token => {\n          console.log(token);\n          this.deviceToken = token;\n      });\n    })\n    //Lấy app version\n    this.appVersion.getVersionNumber().then(version => {\n      this.appversion=version;\n    })\n  }\n  countdownRefreshToken() {\n    var timer = parseInt(this.refreshTokenTimer);\n    //var timer = 10;\n    this.countdownTimer(timer);\n  }\n  countdownTimer(timer: number) {\n    if (timer >= 0) {\n      clearInterval(this.valueGlobal.interval);\n      this.valueGlobal.interval = setInterval(() => {\n        timer--;\n        // console.log(timer);\n        if (timer < 0) {\n          clearInterval(this.valueGlobal.interval);\n          // Reload lại Token để lấy User Info mới nhất\n          this.reloadToken()\n            // .subscribe(\n            //   result => {\n            //     //console.log(\"Reload user info thành công !\");\n            //     // Tạo 1 vòng lặp refresh liên tục khi get Token mới\n            //     this.userService.getUserInfo();\n            //     var timer = parseInt(this.userInfo.refreshTokenTimer);\n            //     this.countdownTimer(timer);\n\n            //   },\n            //   error => { });\n        }\n      }, 1000);\n\n    }\n  }\n  reloadToken() {\n    this.refreshToken();\n  }\n\n  refreshToken() {\n    var se = this;\n    se.storage.get('auth_token').then(auth_token => {\n      if (auth_token) {\n        var text = \"Bearer \" + auth_token;\n        var options = {\n          method: 'GET',\n          url: C.urls.baseUrl.urlMobile + '/api/Account/reloadTokenClaims',\n          headers:\n          {\n            'cache-control': 'no-cache',\n            'content-type': 'application/json',\n            authorization: text\n          },\n        }\n        request(options, function (error, response, body) {\n          if (response.statusCode != 200) {\n            var objError = {\n              page: \"roompaymentdoneean\",\n              func: \"refreshToken\",\n              message: response.statusMessage,\n              content: response.body,\n              type: \"warning\",\n              param: JSON.stringify(options)\n            };\n            C.writeErrorLog(objError,response);\n          }\n          if (error) {\n            error.page = \"roompaymentdoneean\";\n            error.func = \"refreshToken\";\n            error.param = JSON.stringify(options);\n            C.writeErrorLog(error,response);\n          } else {\n            var json=JSON.parse(body);\n            if (json.auth_token) {\n              se.storage.remove('auth_token').then(()=>{\n                se.storage.set(\"auth_token\", json.auth_token);\n              })\n              //se.countdownRefreshToken();\n            }\n          \n          }\n        })\n      }\n    })\n  }\n// getToken() {\n//   this.storage.get('auth_token').then(auth_token => {\n//     if (auth_token) {\n//     }\n//   })\n//   }\n  ionViewDidEnter() {\n    setTimeout(() => {\n      this.input.setFocus();\n    }, 150);\n    this.keyboard.show();\n    //Xử lý nút back của dt\n    //   this.platform.ready().then(() => {\n    //     this.platform.registerBackButtonAction(() => {\n    //       if(this.navCtrl.canGoBack()){\n    //         this.view.dismiss();\n    //       }else{\n    //         this.platform.exitApp();\n    //       }\n    //     })\n    // })\n  }\n\n  goback() {\n    this.navCtrl.back();\n  }\n\n  resetpassword(){\n    this.navCtrl.navigateForward('/forgotpass');\n  }\n  validateEmail(email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n  phonenumber(inputtxt) {\n    var n = Number(inputtxt);\n    if (n) {\n      var test1 = inputtxt.length;\n      if (inputtxt) {\n        if (test1 == 10) {\n          return true;\n        }\n        else {\n          return false;\n        }\n      }\n      else {\n        return false;\n      }\n    }\n    else {\n      return false;\n    }\n  }\n}\n"],"sourceRoot":""}
>>>>>>> 76dafe597a6de74d5d436cb1bfbd518c95b82a61
