{"version":3,"sources":["webpack:///./src/app/forgotpassword/forgotpassword.html","webpack:///./src/app/forgotpassword/forgotpassword.module.ts","webpack:///./src/app/forgotpassword/forgotpassword.scss","webpack:///./src/app/forgotpassword/forgotpassword.ts"],"names":[],"mappings":"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","file":"forgotpassword-forgotpassword-module.js","sourcesContent":["module.exports = \"\\r\\n  <div class=\\\"center\\\">\\r\\n        <div style=\\\"margin-top: -20px\\\">\\r\\n          <ion-card-title style=\\\"text-align: center\\\">\\r\\n            <img style=\\\"height: 90px;\\\" src=\\\"./assets/logo/logo.svg\\\" />\\r\\n          </ion-card-title>\\r\\n          <div class=\\\"div-go-back\\\" (click)=\\\"goback()\\\">\\r\\n            <img style=\\\"margin-top: 6px;height: 36px;\\\" src=\\\"./assets/imgs/ios-arrow-round-back-white.svg\\\" >\\r\\n          </div>\\r\\n        </div>\\r\\n        <ion-grid>\\r\\n          <ion-row justify-content-around>\\r\\n            <ion-col col-sm-6 col-md-6 col-lg-4 col-xl-3 align-self-center>\\r\\n                <div padding class=\\\"forgot-password-email\\\">\\r\\n                        <ion-item  style=\\\"--padding-start: 0px;width: 100%;margin: 0 5px;--background-focused: transparent;background: transparent;\\\">\\r\\n                            <ion-label position=\\\"stacked\\\" style=\\\"color:#fff\\\">Email*</ion-label>\\r\\n                            <ion-label position=\\\"stacked\\\" *ngIf=\\\"!emailvalidate\\\" [ngClass]=\\\"!emailvalidate ? 'validate-error' : ''\\\">Email không hợp lệ</ion-label>\\r\\n                            <ion-input #user id=\\\"cusEmail\\\" [(ngModel)]=\\\"usermail\\\" type=\\\"text\\\" style=\\\"color:#fff\\\"></ion-input>\\r\\n                        </ion-item>\\r\\n\\r\\n                        <div class=\\\"button-reset\\\">\\r\\n                            <ion-button  shape=\\\"round\\\" fill=\\\"outline\\\" class=\\\"button text-button\\\" (click)=\\\"resetPassword()\\\">Đặt lại mật khẩu</ion-button>\\r\\n                        </div>\\r\\n                </div>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </div>\\r\\n    \\r\\n     \\r\\n    \"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { ForgotPasswordPage } from './forgotpassword';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: ForgotPasswordPage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [ForgotPasswordPage]\r\n})\r\nexport class ForgotPasswordPageModule {}\r\n","module.exports = \".center {\\n  padding: 76px 0 0 0;\\n  text-align: center;\\n  height: 100%;\\n  background-image: url('backgroundnew.jpg');\\n}\\n\\n.div-go-back {\\n  position: absolute;\\n  top: 16px;\\n  color: #ffffff;\\n  width: 48px;\\n  height: 48px;\\n}\\n\\n.text-button {\\n  text-align: center;\\n  width: 100%;\\n  font-size: 16px;\\n  color: #ffffff;\\n  text-transform: none;\\n  font-weight: 400;\\n  margin-top: 30px;\\n}\\n\\n.validate-error {\\n  color: #f79221;\\n}\\n\\n:host(.ion-focused) .item-native {\\n  background: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdGRldi9Eb2N1bWVudHMvRGV2ZWxvcC9PbGl2aWFfaU9TL29saXZpYV9pb3MgaG90Zml4IDIuOS43L3NyYy9hcHAvZm9yZ290cGFzc3dvcmQvZm9yZ290cGFzc3dvcmQuc2NzcyIsInNyYy9hcHAvZm9yZ290cGFzc3dvcmQvZm9yZ290cGFzc3dvcmQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsMENBQUE7QUNDSjs7QURHQTtFQUNJLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0FKOztBRElFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxvQkFBQTtFQUFxQixnQkFBQTtFQUFpQixnQkFBQTtBQ0MxQzs7QURDQTtFQUNJLGNBQUE7QUNFSjs7QURBQTtFQUNJLHVCQUFBO0FDR0oiLCJmaWxlIjoic3JjL2FwcC9mb3Jnb3RwYXNzd29yZC9mb3Jnb3RwYXNzd29yZC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNlbnRlciB7XHJcbiAgICBwYWRkaW5nOiA3NnB4IDAgMCAwO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi8uLi9hc3NldHMvYmFja2dyb3VuZG5ldy5qcGcnKVxyXG59XHJcblxyXG5cclxuLmRpdi1nby1iYWNre1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAxNnB4O1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICB3aWR0aDogNDhweDtcclxuICAgIGhlaWdodDogNDhweDtcclxuICB9XHJcblxyXG4gIFxyXG4gIC50ZXh0LWJ1dHRvbntcclxuICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO2ZvbnQtd2VpZ2h0OiA0MDA7bWFyZ2luLXRvcDogMzBweFxyXG59XHJcbi52YWxpZGF0ZS1lcnJvcntcclxuICAgIGNvbG9yOiAjZjc5MjIxO1xyXG59XHJcbjpob3N0KC5pb24tZm9jdXNlZCkgLml0ZW0tbmF0aXZlIHtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG59IiwiLmNlbnRlciB7XG4gIHBhZGRpbmc6IDc2cHggMCAwIDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi9hc3NldHMvYmFja2dyb3VuZG5ldy5qcGdcIik7XG59XG5cbi5kaXYtZ28tYmFjayB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxNnB4O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgd2lkdGg6IDQ4cHg7XG4gIGhlaWdodDogNDhweDtcbn1cblxuLnRleHQtYnV0dG9uIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG59XG5cbi52YWxpZGF0ZS1lcnJvciB7XG4gIGNvbG9yOiAjZjc5MjIxO1xufVxuXG46aG9zdCguaW9uLWZvY3VzZWQpIC5pdGVtLW5hdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufSJdfQ== */\"","import { Component, NgZone, OnInit, ViewChild } from '@angular/core';\r\nimport { NavController, Platform } from '@ionic/angular';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { AuthService } from '../providers/auth-service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { ToastController } from '@ionic/angular';\r\nimport * as request from 'requestretry';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { ValueGlobal } from '../providers/book-service';\r\nimport { C } from '../providers/constants';\r\nimport { GlobalFunction } from '../providers/globalfunction';\r\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\r\nimport { AlertController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-forgotpassword',\r\n  templateUrl: 'forgotpassword.html',\r\n  styleUrls: ['forgotpassword.scss'],\r\n})\r\n\r\nexport class ForgotPasswordPage implements OnInit {\r\n  @ViewChild('user') input;\r\n  public emailvalidate = true;\r\n  usermail;\r\n  constructor(public keyboard: Keyboard, public platform: Platform, public valueGlobal: ValueGlobal, public navCtrl: NavController, public formBuilder: FormBuilder, public authService: AuthService, public storage: Storage,\r\n    private toastCtrl: ToastController, public zone: NgZone, public gf: GlobalFunction,public alertCtrl: AlertController) {\r\n      \r\n  }\r\n  ngOnInit() {\r\n  }\r\n\r\n  resetPassword(){\r\n      //Validate email\r\n      if(!this.filterEmail(this.usermail)){\r\n        this.emailvalidate = false;\r\n        return;\r\n      }else if(this.filterEmail(this.usermail)){\r\n        this.emailvalidate = true;\r\n\r\n        var se = this;\r\n        var options = {\r\n            method: 'POST',\r\n            url: C.urls.baseUrl.urlMobile + '/api/Account/ForgotPass',\r\n            timeout: 10000, maxAttempts: 5, retryDelay: 2000,\r\n            headers:\r\n            {\r\n              'cache-control': 'no-cache',\r\n              'content-type': 'application/json'\r\n            },\r\n            body:\r\n            {\r\n                email: this.usermail,\r\n            },\r\n            json: true\r\n          };\r\n      \r\n          request(options, function (error, response, body) {\r\n            if (error) {\r\n              error.page = \"forgotpassword\";\r\n              error.func = \"resetPassword\";\r\n              error.param = JSON.stringify(options);\r\n              C.writeErrorLog(error,response);\r\n            };\r\n            var rs = body;\r\n            if(rs.result){\r\n                se.showAlertMsg();\r\n            }\r\n          });\r\n      }\r\n  }\r\n\r\n  async showAlertMsg(){\r\n    let alert = await this.alertCtrl.create({\r\n        header: \"Quên mật khẩu\",\r\n        message: \"Hệ thống đã gửi link lấy lại mật khẩu đến email của quý khách!. Trong vòng 5 phút vẫn chưa nhận được mail, quý khách vui lòng thử lại bước này.\",\r\n        cssClass:\"cls-alert-flightcomboreview\",\r\n        buttons: [{\r\n          text: 'Về đăng nhập',\r\n          role: 'OK',\r\n          handler: () => {\r\n            this.navCtrl.navigateBack('/loginusername');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  filterEmail(email) {\r\n    var regex = new RegExp(/^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/);\r\n    return regex.test(email);\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    setTimeout(() => {\r\n      this.input.setFocus();\r\n    }, 150);\r\n    this.keyboard.show();\r\n    const ionSelects:any = document.querySelectorAll('ion-item');\r\n    let img = null;\r\n      const selectItemNavtiveInner = ionSelects[0].shadowRoot.querySelector('.item-native');\r\n      if(selectItemNavtiveInner){\r\n       selectItemNavtiveInner.setAttribute('style','background: transparent !important');\r\n      }\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n     // ion-item customizing\r\n     const ionSelects:any = document.querySelectorAll('ion-item');\r\n     let img = null;\r\n     var item =ionSelects[0];\r\n     if(ionSelects.length >1){\r\n         let idx = ionSelects.length -1;\r\n        item = ionSelects[idx];\r\n     }\r\n       const selectItemNavtiveInner = item.shadowRoot.querySelector('.item-native');\r\n       if(selectItemNavtiveInner){\r\n        selectItemNavtiveInner.setAttribute('style','background: transparent !important');\r\n       }\r\n  }\r\n\r\n  goback() {\r\n    this.navCtrl.back();\r\n  }\r\n}\r\n"],"sourceRoot":""}