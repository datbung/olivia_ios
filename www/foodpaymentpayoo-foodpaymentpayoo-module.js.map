<<<<<<< HEAD
{"version":3,"sources":["webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.module.ts","webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.page.html","webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.page.scss","webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.page.ts"],"names":[],"mappings":"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","file":"foodpaymentpayoo-foodpaymentpayoo-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FoodpaymentpayooPage } from './foodpaymentpayoo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FoodpaymentpayooPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FoodpaymentpayooPage]\n})\nexport class FoodpaymentpayooPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar style=\\\"min-height: 0px;text-align: center\\\">\\n    <ion-row>\\n      <ion-col style=\\\"text-align: center;height: 48px;\\\">\\n        <div style=\\\"align-self: center\\\">\\n          <div style=\\\"position: absolute;height: 48px;width: 48px;top: 8px;\\\" (click)=\\\"goback()\\\">\\n            <!-- <ion-icon color=\\\"dark-tint\\\" (click)=\\\"goback()\\\" style=\\\"font-size: 2em;\\\" name=\\\"arrow-back\\\" class=\\\"card-title\\\"></ion-icon> -->\\n            <img style=\\\"height: 48px; padding: 8px;margin-top: -9px;margin-left:-14px\\\"\\n              src=\\\"./assets/imgs/ios-arrow-round-back.svg\\\">\\n          </div>\\n\\n          <div style=\\\"padding-top: 6px;font-size: 20px;font-weight: bold;\\\"><label class=\\\"text-title\\\">Thanh toán</label>\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n  <div style=\\\"text-align: center;\\\">\\n    <img src=\\\"./assets/step/food_step_2.svg\\\">\\n  </div>\\n  <div *ngIf=\\\"stt=='0'\\\">\\n    <div>\\n      <ion-label class=\\\"text\\\" text-wrap>\\n        Mã thanh toán Payoo: {{BillingCode}}, số tiền: <span class=\\\"totalPrice\\\">{{total}} VND</span>  vui lòng thanh toán trước <span class=\\\"textpayment\\\">{{PeriodPaymentDate}}</span>\\n      </ion-label>\\n    </div>\\n    <div (click)=\\\"openWebpagePayoo()\\\">\\n      <label class=\\\"text\\\" >Để tìm cửa hàng gần nhất, hãy <a target=\\\"_blank\\\" >xem tại đây</a></label>\\n    </div>\\n    <div class=\\\"mt15\\\">\\n      <img src=\\\"./assets/imgpayoo/payoo_store.jpg\\\">\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"stt=='1'&&qrimg\\\">\\n    <p>\\n      Quý khách vui lòng quét mã QR dưới đây để thanh toán \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\n    </p>\\n    <div>\\n      <img style=\\\"width:170px\\\"  src={{qrimg}}>\\n    </div>\\n    <div class=\\\"mt15\\\">\\n      <img src=\\\"./assets/imgpayoo/help_qrcode.jpg\\\">\\n    </div>\\n  </div>\\n </ion-content>\\n <ion-footer>\\n  <div style=\\\"background-color: #ffffff; text-align: center\\\">\\n    <button (click)=\\\"next()\\\" ion-button round outline class=\\\"button button2\\\">Tiếp tục</button>\\n  </div>\\n</ion-footer>\"","module.exports = \"::ng-deep .totalPrice {\\n  color: #26BED6;\\n  font-weight: bold;\\n}\\n\\n.button2 {\\n  background: #ff9500;\\n  color: #ffffff;\\n  border-color: #ff9500;\\n  width: 90%;\\n}\\n\\n.div-btn {\\n  background-color: #ffffff;\\n  text-align: center;\\n  margin-top: 20px;\\n}\\n\\n.mt15 {\\n  margin-top: 15px;\\n}\\n\\n.totalPrice {\\n  font-weight: bold;\\n  color: #26BED6;\\n}\\n\\n.textpayment {\\n  color: #003C71;\\n  font-weight: bold;\\n}\\n\\n.text {\\n  font-size: 14px;\\n  letter-spacing: -0.4px;\\n  line-height: 2;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdGRldi9Eb2N1bWVudHMvRGV2ZWxvcC9PbGl2aWFfaU9TL29saXZpYV9pb3MgaG90Zml4IDIuOS43L3NyYy9hcHAvZm9vZHBheW1lbnRwYXlvby9mb29kcGF5bWVudHBheW9vLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZm9vZHBheW1lbnRwYXlvby9mb29kcGF5bWVudHBheW9vLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUVBLGNBQUE7RUFDQSxpQkFBQTtBQ0RKOztBRElBO0VBRUksbUJBQUE7RUFDQSxjQUFBO0VBQ0EscUJBQUE7RUFDQSxVQUFBO0FDRko7O0FES0E7RUFFSSx5QkFBQTtFQUEyQixrQkFBQTtFQUFtQixnQkFBQTtBQ0RsRDs7QURHQTtFQUVJLGdCQUFBO0FDREo7O0FER0E7RUFDSSxpQkFBQTtFQUNBLGNBQUE7QUNBSjs7QURFQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtBQ0NKOztBRENBO0VBQ0ksZUFBQTtFQUNBLHNCQUFBO0VBQ0EsY0FBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvZm9vZHBheW1lbnRwYXlvby9mb29kcGF5bWVudHBheW9vLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcCB7XG4gICAgLnRvdGFsUHJpY2VcbntcbiAgICBjb2xvcjogIzI2QkVENjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbn1cbi5idXR0b24yXG57XG4gICAgYmFja2dyb3VuZDogI2ZmOTUwMDtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICBib3JkZXItY29sb3I6ICNmZjk1MDA7XG4gICAgd2lkdGg6IDkwJTtcbn1cblxuLmRpdi1idG5cbntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyB0ZXh0LWFsaWduOiBjZW50ZXI7bWFyZ2luLXRvcDogMjBweFxufVxuLm10MTVcbntcbiAgICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuLnRvdGFsUHJpY2Uge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiAjMjZCRUQ2O1xufVxuLnRleHRwYXltZW50e1xuICAgIGNvbG9yOiMwMDNDNzE7IFxuICAgIGZvbnQtd2VpZ2h0OmJvbGRcbn1cbi50ZXh0e1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBsZXR0ZXItc3BhY2luZzogLTAuNHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyO1xufVxuIiwiOjpuZy1kZWVwIC50b3RhbFByaWNlIHtcbiAgY29sb3I6ICMyNkJFRDY7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYnV0dG9uMiB7XG4gIGJhY2tncm91bmQ6ICNmZjk1MDA7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBib3JkZXItY29sb3I6ICNmZjk1MDA7XG4gIHdpZHRoOiA5MCU7XG59XG5cbi5kaXYtYnRuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4ubXQxNSB7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG59XG5cbi50b3RhbFByaWNlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMjZCRUQ2O1xufVxuXG4udGV4dHBheW1lbnQge1xuICBjb2xvcjogIzAwM0M3MTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi50ZXh0IHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsZXR0ZXItc3BhY2luZzogLTAuNHB4O1xuICBsaW5lLWhlaWdodDogMjtcbn0iXX0= */\"","import { GlobalFunction } from './../providers/globalfunction';\nimport { NavController } from '@ionic/angular';\nimport { foodService } from './../providers/foodService';\nimport { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport * as request from 'requestretry';\nimport { C } from '../providers/constants';\nimport * as moment from 'moment';\nimport { SafariViewController } from '@ionic-native/safari-view-controller/ngx';\n@Component({\n  selector: 'app-foodpaymentpayoo',\n  templateUrl: './foodpaymentpayoo.page.html',\n  styleUrls: ['./foodpaymentpayoo.page.scss'],\n})\nexport class FoodpaymentpayooPage implements OnInit {\n\n  bookingCode;stt;text;qrimg;BillingCode;total;PeriodPaymentDate\n  intervalID: NodeJS.Timeout;\n  constructor(private navCtrl:NavController, public gf: GlobalFunction,\n    private activatedRoute: ActivatedRoute,private foodService:foodService,private safariViewController: SafariViewController) { }\n\n  ngOnInit() {\n    this.bookingCode = this.activatedRoute.snapshot.paramMap.get('code');\n    this.stt= this.activatedRoute.snapshot.paramMap.get('stt');\n    if (this.stt=='0') {\n      this.BillingCode=this.foodService.BillingCode;\n    }\n    else\n    {\n      this.qrimg=this.foodService.qrimg;\n      this.intervalID = setInterval(() => {\n        let url = C.urls.baseUrl.urlFood+'/api/FOBooking/GetBookingByCode?bookingCode='+this.bookingCode+'';\n        this.gf.CheckpaymentFood(url).then((data) => {\n          console.log(data);\n          var checkpay=data\n          if (checkpay==\"true\") {\n            clearInterval(this.intervalID);\n            this.checkqrcode();\n          }\n        })\n      }, 1000 * 5);\n      setTimeout(() => {\n        clearInterval(this.intervalID);\n      }, 60000 * 15);\n    }\n    this.total=this.foodService.totalPrice.toLocaleString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1.\");\n    this.PeriodPaymentDate=moment(this.foodService.PeriodPaymentDate).format('HH:mm DD/MM/YYYY');\n  }\n  goback()\n  {\n    if (this.stt=='1') {\n      clearInterval(this.intervalID);\n    }\n    this.navCtrl.back();\n  }\n  next()\n  {\n    var se=this;\n    if (this.stt=='0') {\n      let url = C.urls.baseUrl.urlERPFood + \"/api/erp/Email/getEmail?request=\"+se.bookingCode;\n      se.gf.RequestApi(\"GET\", url, {}, {}, \"\", \"\").then((dataemail) => {\n        var options = {\n          'method': 'GET',\n          'url': C.urls.baseUrl.urlFood+'/api/FOBooking/GetBookingByCode?bookingCode='+se.bookingCode+'',\n          'headers': {\n          }\n        };\n        request(options, function (error, response) {\n          var rs=JSON.parse(response.body); \n          se.foodService.qrimg=\"\";\n          se.foodService.ischeckpayment='0';\n          se.navCtrl.navigateForward('foodpaymentdonepayoo/'+se.bookingCode+'/'+rs.response.startDate+'/'+rs.response.endDate);\n        })\n     \n      })\n     \n    }\n    else\n    {\n      clearInterval(this.intervalID);\n      se.checkqrcode();\n    }\n\n  }\n  checkqrcode()\n  {\n    var se=this;\n    var options = {\n      'method': 'GET',\n      'url': C.urls.baseUrl.urlFood+'/api/FOBooking/GetBookingByCode?bookingCode='+se.bookingCode+'',\n      'headers': {\n      }\n    };\n    request(options, function (error, response) { \n      if (error) throw new Error(error);\n      var rs=JSON.parse(response.body);\n      if (rs.response.status==3) {\n        se.foodService.ischeckpayment='1';\n        se.navCtrl.navigateForward('foodpaymentdonepayoo/'+se.bookingCode+'/'+rs.response.startDate+'/'+rs.response.endDate);\n      }\n      else{\n        se.foodService.ischeckpayment='0';\n        se.foodService.BillingCode=\"\";\n        let url = C.urls.baseUrl.urlERPFood + \"/api/erp/Email/getEmail?request=\"+se.bookingCode;\n        se.gf.RequestApi(\"GET\", url, {}, {}, \"\", \"\").then((dataemail) => {\n          se.navCtrl.navigateForward('foodpaymentdonepayoo/'+se.bookingCode+'/'+rs.response.startDate+'/'+rs.response.endDate);\n        })\n      }\n    });\n  }\n  openWebpagePayoo() {\n    var url=\"https://payoo.vn/mapv2/public/index.php?verify=true\";\n    this.safariViewController.isAvailable()\n    .then((available: boolean) => {\n      if (available) {\n        this.safariViewController.show({\n          url: url,\n          hidden: false,\n          animated: false,\n          transition: 'curl',\n          enterReaderModeIfAvailable: true,\n          tintColor: '#23BFD8'\n        })\n        .subscribe((result: any) => {\n            if(result.event === 'opened') console.log('Opened');\n            else if(result.event === 'loaded') console.log('Loaded');\n            else if(result.event === 'closed') \n            {\n            }\n            \n          },\n          (error: any) => console.error(error)\n        );\n\n      } else {\n        // use fallback browser, example InAppBrowser\n      }\n    })\n  }\n}\n"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.module.ts","webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.page.html","webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.page.scss","webpack:///./src/app/foodpaymentpayoo/foodpaymentpayoo.page.ts"],"names":[],"mappings":"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","file":"foodpaymentpayoo-foodpaymentpayoo-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FoodpaymentpayooPage } from './foodpaymentpayoo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FoodpaymentpayooPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FoodpaymentpayooPage]\n})\nexport class FoodpaymentpayooPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar style=\\\"min-height: 0px;text-align: center\\\">\\n    <ion-row>\\n      <ion-col style=\\\"text-align: center;height: 48px;\\\">\\n        <div style=\\\"align-self: center\\\">\\n          <div style=\\\"position: absolute;height: 48px;width: 48px;top: 8px;\\\" (click)=\\\"goback()\\\">\\n            <!-- <ion-icon color=\\\"dark-tint\\\" (click)=\\\"goback()\\\" style=\\\"font-size: 2em;\\\" name=\\\"arrow-back\\\" class=\\\"card-title\\\"></ion-icon> -->\\n            <img style=\\\"height: 48px; padding: 8px;margin-top: -9px;margin-left:-14px\\\"\\n              src=\\\"./assets/imgs/ios-arrow-round-back.svg\\\">\\n          </div>\\n\\n          <div style=\\\"padding-top: 6px;font-size: 20px;font-weight: bold;\\\"><label class=\\\"text-title\\\">Thanh toán</label>\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n  <div style=\\\"text-align: center;\\\">\\n    <img src=\\\"./assets/step/food_step_2.svg\\\">\\n  </div>\\n  <div *ngIf=\\\"stt=='0'\\\">\\n    <div>\\n      <ion-label class=\\\"text\\\" text-wrap>\\n        Mã thanh toán Payoo: {{BillingCode}}, số tiền: <span class=\\\"totalPrice\\\">{{total}} VND</span>  vui lòng thanh toán trước <span class=\\\"textpayment\\\">{{PeriodPaymentDate}}</span>\\n      </ion-label>\\n    </div>\\n    <div (click)=\\\"openWebpagePayoo()\\\">\\n      <label class=\\\"text\\\" >Để tìm cửa hàng gần nhất, hãy <a target=\\\"_blank\\\" >xem tại đây</a></label>\\n    </div>\\n    <div class=\\\"mt15\\\">\\n      <img src=\\\"./assets/imgpayoo/payoo_store.jpg\\\">\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"stt=='1'&&qrimg\\\">\\n    <p>\\n      Quý khách vui lòng quét mã QR dưới đây để thanh toán \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\n    </p>\\n    <div>\\n      <img style=\\\"width:170px\\\"  src={{qrimg}}>\\n    </div>\\n    <div class=\\\"mt15\\\">\\n      <img src=\\\"./assets/imgpayoo/help_qrcode.jpg\\\">\\n    </div>\\n  </div>\\n </ion-content>\\n <ion-footer>\\n  <div style=\\\"background-color: #ffffff; text-align: center\\\">\\n    <button (click)=\\\"next()\\\" ion-button round outline class=\\\"button button2\\\">Tiếp tục</button>\\n  </div>\\n</ion-footer>\"","module.exports = \"::ng-deep .totalPrice {\\n  color: #26BED6;\\n  font-weight: bold;\\n}\\n\\n.button2 {\\n  background: #ff9500;\\n  color: #ffffff;\\n  border-color: #ff9500;\\n  width: 90%;\\n}\\n\\n.div-btn {\\n  background-color: #ffffff;\\n  text-align: center;\\n  margin-top: 20px;\\n}\\n\\n.mt15 {\\n  margin-top: 15px;\\n}\\n\\n.totalPrice {\\n  font-weight: bold;\\n  color: #26BED6;\\n}\\n\\n.textpayment {\\n  color: #003C71;\\n  font-weight: bold;\\n}\\n\\n.text {\\n  font-size: 14px;\\n  letter-spacing: -0.4px;\\n  line-height: 2;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kZXYtaXZpdnUvRG9jdW1lbnRzL0RldmVsb3Avb2xpdmlhX2lvcy9zcmMvYXBwL2Zvb2RwYXltZW50cGF5b28vZm9vZHBheW1lbnRwYXlvby5wYWdlLnNjc3MiLCJzcmMvYXBwL2Zvb2RwYXltZW50cGF5b28vZm9vZHBheW1lbnRwYXlvby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFFQSxjQUFBO0VBQ0EsaUJBQUE7QUNESjs7QURJQTtFQUVJLG1CQUFBO0VBQ0EsY0FBQTtFQUNBLHFCQUFBO0VBQ0EsVUFBQTtBQ0ZKOztBREtBO0VBRUkseUJBQUE7RUFBMkIsa0JBQUE7RUFBbUIsZ0JBQUE7QUNEbEQ7O0FER0E7RUFFSSxnQkFBQTtBQ0RKOztBREdBO0VBQ0ksaUJBQUE7RUFDQSxjQUFBO0FDQUo7O0FERUE7RUFDSSxjQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURDQTtFQUNJLGVBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL2Zvb2RwYXltZW50cGF5b28vZm9vZHBheW1lbnRwYXlvby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAge1xuICAgIC50b3RhbFByaWNlXG57XG4gICAgY29sb3I6ICMyNkJFRDY7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG59XG4uYnV0dG9uMlxue1xuICAgIGJhY2tncm91bmQ6ICNmZjk1MDA7XG4gICAgY29sb3I6ICNmZmZmZmY7XG4gICAgYm9yZGVyLWNvbG9yOiAjZmY5NTAwO1xuICAgIHdpZHRoOiA5MCU7XG59XG5cbi5kaXYtYnRuXG57XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsgdGV4dC1hbGlnbjogY2VudGVyO21hcmdpbi10b3A6IDIwcHhcbn1cbi5tdDE1XG57XG4gICAgbWFyZ2luLXRvcDogMTVweDtcbn1cbi50b3RhbFByaWNlIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogIzI2QkVENjtcbn1cbi50ZXh0cGF5bWVudHtcbiAgICBjb2xvcjojMDAzQzcxOyBcbiAgICBmb250LXdlaWdodDpib2xkXG59XG4udGV4dHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgbGV0dGVyLXNwYWNpbmc6IC0wLjRweDtcbiAgICBsaW5lLWhlaWdodDogMjtcbn1cbiIsIjo6bmctZGVlcCAudG90YWxQcmljZSB7XG4gIGNvbG9yOiAjMjZCRUQ2O1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmJ1dHRvbjIge1xuICBiYWNrZ3JvdW5kOiAjZmY5NTAwO1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgYm9yZGVyLWNvbG9yOiAjZmY5NTAwO1xuICB3aWR0aDogOTAlO1xufVxuXG4uZGl2LWJ0biB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cblxuLm10MTUge1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG4udG90YWxQcmljZSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzI2QkVENjtcbn1cblxuLnRleHRwYXltZW50IHtcbiAgY29sb3I6ICMwMDNDNzE7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4udGV4dCB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbGV0dGVyLXNwYWNpbmc6IC0wLjRweDtcbiAgbGluZS1oZWlnaHQ6IDI7XG59Il19 */\"","import { GlobalFunction } from './../providers/globalfunction';\nimport { NavController } from '@ionic/angular';\nimport { foodService } from './../providers/foodService';\nimport { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport * as request from 'requestretry';\nimport { C } from '../providers/constants';\nimport * as moment from 'moment';\nimport { SafariViewController } from '@ionic-native/safari-view-controller/ngx';\n@Component({\n  selector: 'app-foodpaymentpayoo',\n  templateUrl: './foodpaymentpayoo.page.html',\n  styleUrls: ['./foodpaymentpayoo.page.scss'],\n})\nexport class FoodpaymentpayooPage implements OnInit {\n\n  bookingCode;stt;text;qrimg;BillingCode;total;PeriodPaymentDate\n  intervalID: NodeJS.Timeout;\n  constructor(private navCtrl:NavController, public gf: GlobalFunction,\n    private activatedRoute: ActivatedRoute,private foodService:foodService,private safariViewController: SafariViewController) { }\n\n  ngOnInit() {\n    this.bookingCode = this.activatedRoute.snapshot.paramMap.get('code');\n    this.stt= this.activatedRoute.snapshot.paramMap.get('stt');\n    if (this.stt=='0') {\n      this.BillingCode=this.foodService.BillingCode;\n    }\n    else\n    {\n      this.qrimg=this.foodService.qrimg;\n      this.intervalID = setInterval(() => {\n        let url = C.urls.baseUrl.urlFood+'/api/FOBooking/GetBookingByCode?bookingCode='+this.bookingCode+'';\n        this.gf.CheckpaymentFood(url).then((data) => {\n          console.log(data);\n          var checkpay=data\n          if (checkpay==\"true\") {\n            clearInterval(this.intervalID);\n            this.checkqrcode();\n          }\n        })\n      }, 1000 * 5);\n      setTimeout(() => {\n        clearInterval(this.intervalID);\n      }, 60000 * 15);\n    }\n    this.total=this.foodService.totalPrice.toLocaleString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1.\");\n    this.PeriodPaymentDate=moment(this.foodService.PeriodPaymentDate).format('HH:mm DD/MM/YYYY');\n  }\n  goback()\n  {\n    if (this.stt=='1') {\n      clearInterval(this.intervalID);\n    }\n    this.navCtrl.back();\n  }\n  next()\n  {\n    var se=this;\n    if (this.stt=='0') {\n      let url = C.urls.baseUrl.urlERPFood + \"/api/erp/Email/getEmail?request=\"+se.bookingCode;\n      se.gf.RequestApi(\"GET\", url, {}, {}, \"\", \"\").then((dataemail) => {\n        var options = {\n          'method': 'GET',\n          'url': C.urls.baseUrl.urlFood+'/api/FOBooking/GetBookingByCode?bookingCode='+se.bookingCode+'',\n          'headers': {\n          }\n        };\n        request(options, function (error, response) {\n          var rs=JSON.parse(response.body); \n          se.foodService.qrimg=\"\";\n          se.foodService.ischeckpayment='0';\n          se.navCtrl.navigateForward('foodpaymentdonepayoo/'+se.bookingCode+'/'+rs.response.startDate+'/'+rs.response.endDate);\n        })\n     \n      })\n     \n    }\n    else\n    {\n      clearInterval(this.intervalID);\n      se.checkqrcode();\n    }\n\n  }\n  checkqrcode()\n  {\n    var se=this;\n    var options = {\n      'method': 'GET',\n      'url': C.urls.baseUrl.urlFood+'/api/FOBooking/GetBookingByCode?bookingCode='+se.bookingCode+'',\n      'headers': {\n      }\n    };\n    request(options, function (error, response) { \n      if (error) throw new Error(error);\n      var rs=JSON.parse(response.body);\n      if (rs.response.status==3) {\n        se.foodService.ischeckpayment='1';\n        se.navCtrl.navigateForward('foodpaymentdonepayoo/'+se.bookingCode+'/'+rs.response.startDate+'/'+rs.response.endDate);\n      }\n      else{\n        se.foodService.ischeckpayment='0';\n        se.foodService.BillingCode=\"\";\n        let url = C.urls.baseUrl.urlERPFood + \"/api/erp/Email/getEmail?request=\"+se.bookingCode;\n        se.gf.RequestApi(\"GET\", url, {}, {}, \"\", \"\").then((dataemail) => {\n          se.navCtrl.navigateForward('foodpaymentdonepayoo/'+se.bookingCode+'/'+rs.response.startDate+'/'+rs.response.endDate);\n        })\n      }\n    });\n  }\n  openWebpagePayoo() {\n    var url=\"https://payoo.vn/mapv2/public/index.php?verify=true\";\n    this.safariViewController.isAvailable()\n    .then((available: boolean) => {\n      if (available) {\n        this.safariViewController.show({\n          url: url,\n          hidden: false,\n          animated: false,\n          transition: 'curl',\n          enterReaderModeIfAvailable: true,\n          tintColor: '#23BFD8'\n        })\n        .subscribe((result: any) => {\n            if(result.event === 'opened') console.log('Opened');\n            else if(result.event === 'loaded') console.log('Loaded');\n            else if(result.event === 'closed') \n            {\n            }\n            \n          },\n          (error: any) => console.error(error)\n        );\n\n      } else {\n        // use fallback browser, example InAppBrowser\n      }\n    })\n  }\n}\n"],"sourceRoot":""}
>>>>>>> 76dafe597a6de74d5d436cb1bfbd518c95b82a61
